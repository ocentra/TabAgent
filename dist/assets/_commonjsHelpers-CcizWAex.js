var is=Object.defineProperty;var ps=(r,s,t)=>s in r?is(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var o=(r,s,t)=>ps(r,typeof s!="symbol"?s+"":s,t);class us{constructor(){this.listeners=new Map}subscribe(s,t){this.listeners.has(s)||this.listeners.set(s,[]),this.listeners.get(s).push(t)}unsubscribe(s,t){if(this.listeners.has(s)){const e=this.listeners.get(s),n=e.indexOf(t);n>-1&&e.splice(n,1),e.length===0&&this.listeners.delete(s)}}publish(s,t){const e=this.listeners.get(s);if(e&&e.length>0)try{const n=structuredClone(t);console.log(`[EventBus] Publishing ${s}. Found ${e.length} listeners. Data to send:`,JSON.stringify(n)),e.forEach((cs,X)=>{try{console.log(`[EventBus] Calling listener #${X+1} for ${s} with data:`,JSON.stringify(n)),cs(n)}catch(ls){console.error(`[EventBus] Error in listener #${X+1} for ${s}:`,ls)}})}catch(n){console.error(`[EventBus] Failed to structuredClone data for event ${s}:`,n,t)}else console.log(`[EventBus] No listeners registered for event ${s}. Data:`,JSON.stringify(t))}}const hs=new us,xs=Object.freeze(Object.defineProperty({__proto__:null,eventBus:hs},Symbol.toStringTag,{value:"Module"}));function ys(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var s=Math.random()*16|0,t=r=="x"?s:s&3|8;return t.toString(16)})}class a{constructor(s=null){this.requestId=s||ys(),this.timestamp=Date.now()}}class c extends a{constructor(s,t,e=null,n=null){super(s),this.success=t,this.data=e,this.error=n?n.message||String(n):null}}class N{constructor(s){this.sessionId=s,this.timestamp=Date.now()}}class $ extends c{constructor(s,t,e,n=null){super(s,t,e,n),this.type=$.name}}class O extends c{constructor(s,t,e,n=null){super(s,t,{newMessageId:e},n),this.type=O.name}}class j extends c{constructor(s,t,e=null){super(s,t,null,e),this.type=j.name}}class F extends c{constructor(s,t,e=null){super(s,t,null,e),this.type=F.name}}class I extends c{constructor(s,t,e=null){super(s,t,null,e),this.type=I.name}}class J extends c{constructor(s,t,e,n=null){super(s,t,e,n),this.type=J.name}}class P extends c{constructor(s,t,e,n=null){super(s,t,{newSessionId:e},n),this.type=P.name,console.log(`[dbEvents] DbCreateSessionResponse constructor: type set to ${this.type}`)}get newSessionId(){var s;return(s=this.data)==null?void 0:s.newSessionId}}class z extends c{constructor(s,t,e=null){super(s,t,null,e),this.type=z.name}}class k extends c{constructor(s,t,e=null){super(s,t,null,e),this.type=k.name}}class C extends c{constructor(s,t,e=null,n=null){super(s,t,e,n),this.type=C.name,this.payload={sessions:e}}}class H extends c{constructor(s,t,e=null,n=null){super(s,t,e,n),this.type=H.name}}const l=class l extends a{constructor(s){super(),this.type=l.name,this.payload={sessionId:s}}};o(l,"responseEventName",$.name);let Y=l;const i=class i extends a{constructor(s,t){super(),this.type=i.name,this.payload={sessionId:s,messageObject:t}}};o(i,"responseEventName",O.name);let Z=i;const p=class p extends a{constructor(s,t,e){super(),this.type=p.name,this.payload={sessionId:s,messageId:t,updates:e}}};o(p,"responseEventName",j.name);let M=p;const u=class u extends a{constructor(s,t){super(),this.type=u.name,this.payload={sessionId:s,status:t}}};o(u,"responseEventName",F.name);let V=u;const h=class h extends a{constructor(s,t){super(),this.type=h.name,this.payload={sessionId:s,messageId:t}}};o(h,"responseEventName",I.name);let U=h;const y=class y extends a{constructor(s){super(),this.type=y.name,this.payload={sessionId:s}}};o(y,"responseEventName",J.name);let A=y;const d=class d extends a{constructor(s){super(),this.type=d.name,this.payload={initialMessage:s},console.log(`[dbEvents] DbCreateSessionRequest constructor: type set to ${this.type}`)}};o(d,"responseEventName",P.name);let b=d;class ts extends a{constructor(){super(),this.type=ts.name,this.payload={}}}const x=class x extends a{constructor(s){super(),this.type=x.name,this.payload={sessionId:s}}};o(x,"responseEventName",z.name);let L=x;const m=class m extends a{constructor(s,t){super(),this.type=m.name,this.payload={sessionId:s,newName:t}}};o(m,"responseEventName",k.name);let S=m;const f=class f extends a{constructor(){super(),this.type=f.name}};o(f,"responseEventName",C.name);let G=f;const E=class E extends a{constructor(){super(),this.type=E.name}};o(E,"responseEventName",H.name);let D=E;class es extends N{constructor(s,t){super(s),this.type=es.name,this.payload={messages:t}}}class ns extends N{constructor(s,t){super(s),this.type=ns.name,this.payload={status:t}}}class as extends N{constructor(s,t){super(s),this.type=as.name,this.payload={session:t}}}class rs{constructor({success:s,error:t=null}){this.type=rs.name,this.timestamp=Date.now(),this.payload={success:s,error:t?t.message||String(t):null}}}class K extends c{constructor(s,t,e,n=null){super(s,t,e,n),this.type=K.name}}class T extends c{constructor(s,t,e,n=null){super(s,t,e,n),this.type=T.name}}class Q extends c{constructor(s,t,e=null){super(s,t,null,e),this.type=Q.name}}class W extends c{constructor(s,t,e,n=null){super(s,t,e,n),this.type=W.name}}class os extends a{constructor(s){super(),this.type=os.name,this.payload={logEntryData:s}}}const v=class v extends a{constructor(s){super(),this.type=v.name,this.payload={filters:s}}};o(v,"responseEventName",K.name);let q=v;const g=class g extends a{constructor(s){super(),this.type=g.name,this.payload={fieldName:s}}};o(g,"responseEventName",T.name);let R=g;const w=class w extends a{constructor(s="all"){super(),this.type=w.name,this.payload={filter:s}}};o(w,"responseEventName",Q.name);let _=w;const B=class B extends a{constructor(){super(),this.type=B.name}};o(B,"responseEventName",W.name);let ss=B;var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}export{fs as A,ts as B,os as C,es as D,q as E,R as F,_ as G,ss as H,rs as I,K as J,T as K,Q as L,W as M,xs as N,as as a,Y as b,ns as c,b as d,hs as e,Z as f,V as g,M as h,P as i,O as j,$ as k,j as l,U as m,I as n,F as o,A as p,J as q,G as r,C as s,D as t,H as u,L as v,z as w,S as x,k as y,ms as z};
//# sourceMappingURL=_commonjsHelpers-CcizWAex.js.map

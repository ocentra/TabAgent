{"version":3,"file":"pageExtractor.js","mappings":"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","sources":["webpack://tabagent/webpack/bootstrap","webpack://tabagent/webpack/runtime/define property getters","webpack://tabagent/webpack/runtime/hasOwnProperty shorthand","webpack://tabagent/webpack/runtime/make namespace object","webpack://tabagent/./src/PageExtractor.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Structure of extracted content\n * @typedef {Object} ExtractedContent\n * @property {string} title - Page title or fallback\n * @property {string} content - Cleaned HTML content\n * @property {string} text - Full text content\n * @property {Object[]} segments - Array of content segments\n * @property {Object[]} images - Array of image data\n * @property {Object[]} videos - Array of video data\n * @property {Object[]} tables - Array of table data\n * @property {Object[]} links - Array of link data\n * @property {string} url - Page URL\n * @property {string} extractedAt - ISO timestamp\n * @property {string} [author] - Author name\n * @property {string} [publishDate] - Publication date\n * @property {string} [metaDescription] - Meta description\n * @property {string} [language] - Page language\n * @property {string[]} [keywords] - Keywords or tags\n * @property {string[]} [categories] - Categories\n * @property {number} [wordCount] - Word count\n * @property {number} [readingTime] - Reading time in minutes\n */\n\n/**\n * Structure of a content segment\n * @typedef {Object} ContentSegment\n * @property {string} type - 'heading' | 'paragraph' | 'list' | 'image' | 'video' | 'table' | 'quote' | 'code' | 'button' | 'listitem'\n * @property {number} [level] - Heading level (1-6)\n * @property {string} [text] - Text content\n * @property {Object} [data] - Image, video, table, or button data\n * @property {Object} [context] - Parent link or button context\n * @property {string} [context.type] - 'link' | 'button'\n * @property {string} [context.href] - Link href (if link)\n * @property {string} [context.text] - Button text or aria-label (if button)\n */\n\n/**\n * Structure of image data\n * @typedef {Object} ImageData\n * @property {string} src - Image URL\n * @property {string} alt - Alt text\n * @property {number} [width] - Image width\n * @property {number} [height] - Image height\n * @property {string} [caption] - Caption\n */\n\n/**\n * Structure of video data\n * @typedef {Object} VideoData\n * @property {string} src - Video URL\n * @property {string} type - MIME type\n * @property {string} [poster] - Poster image URL\n * @property {number} [duration] - Duration in seconds\n */\n\n/**\n * Structure of table data\n * @typedef {Object} TableData\n * @property {string[]} headers - Table headers\n * @property {string[][]} rows - Table rows\n * @property {string} [caption] - Table caption\n */\n\n/**\n * Structure of link data\n * @typedef {Object} LinkData\n * @property {string} href - Link URL\n * @property {string} text - Link text\n * @property {string} [title] - Title attribute\n * @property {string} [rel] - Rel attribute\n */\n\n/**\n * Structure of button data\n * @typedef {Object} ButtonData\n * @property {string} text - Button text or aria-label\n * @property {string} [ariaLabel] - ARIA label\n */\n\nfunction getTextDensity(element: HTMLElement, doc?: Document): number {\n  doc = doc || document;\n  var text = (element.innerText || '').trim();\n  var rect = element.getBoundingClientRect();\n  var area = rect.width * rect.height;\n  return area > 0 ? text.length / area : 0;\n}\n\nfunction isBoilerplate(element: HTMLElement): boolean {\n  var boilerplateTags = ['header', 'footer', 'nav', 'aside', 'script', 'style', 'iframe', 'noscript', 'form', 'svg', 'banner'];\n  var boilerplateClasses = [\n    'ad', 'advert', 'banner', 'sidebar', 'menu', 'nav', 'footer', 'widget',\n    'social', 'share', 'comment', 'related', 'newsletter', 'popup', 'cookie',\n    'modal', 'promo', 'sponsored', 'trending', 'login', 'signup'\n  ];\n  var tagName = element.tagName.toLowerCase();\n  var className = (element.className || '').toString().toLowerCase();\n  var id = (element.id || '').toLowerCase();\n  var role = (element.getAttribute('role') || '').toLowerCase();\n\n  return (\n    boilerplateTags.includes(tagName) ||\n    boilerplateClasses.some(function(cls) { return className.includes(cls) || id.includes(cls); }) ||\n    Boolean(element.querySelector('[class*=\"ad\"], [id*=\"ad\"], [class*=\"social\"], [id*=\"social\"], [class*=\"share\"], [class*=\"sponsor\"]')) ||\n    role === 'navigation' ||\n    role === 'complementary' ||\n    role === 'banner' ||\n    element.hasAttribute('aria-hidden') ||\n    getComputedStyle(element).display === 'none' ||\n    getComputedStyle(element).visibility === 'hidden' ||\n    getComputedStyle(element).opacity === '0'\n  );\n}\n\nfunction scoreElement(element: HTMLElement, doc?: Document): number {\n  doc = doc || document;\n  var score = 0;\n  var tagName = element.tagName.toLowerCase();\n\n  var tagScores: Record<string, number> = {\n    article: 30,\n    main: 25,\n    section: 20,\n    div: 8,\n    p: 15,\n    figure: 12\n  };\n  score += tagScores[tagName] || 0;\n\n  score += getTextDensity(element, doc) * 200;\n\n  var paragraphs = element.querySelectorAll('p, li, blockquote').length;\n  score += paragraphs * 15;\n  score += Math.min((element.innerText || '').length, 15000) / 30;\n\n  if (isBoilerplate(element)) {\n    score -= 200;\n  }\n\n  var className = (element.className || '').toString().toLowerCase();\n  var id = (element.id || '').toLowerCase();\n  var contentKeywords = ['content', 'article', 'main', 'story', 'body', 'post', 'entry', 'page'];\n  if (contentKeywords.some(function(keyword) { return className.includes(keyword) || id.includes(keyword); })) {\n    score += 50;\n  }\n\n  if (((element.innerText || '').trim().length || 0) < 50) {\n    score -= 40;\n  }\n\n  if (element.querySelector('[itemprop=\"articleBody\"], [itemtype*=\"Article\"], [itemtype*=\"NewsArticle\"]')) {\n    score += 80;\n  }\n\n  var links = element.querySelectorAll('a').length;\n  var textLength = (element.innerText || '').length || 1;\n  if (links / textLength > 0.15) {\n    score -= 30;\n  }\n\n  var richContent = element.querySelectorAll('img, video, table, blockquote, pre').length;\n  score += richContent * 20;\n\n  return score;\n}\n\nfunction cleanContent(element: HTMLElement | Element): HTMLElement {\n  element = element as HTMLElement;\n  var cloned = element.cloneNode(true) as HTMLElement;\n  var selectorsToRemove = [\n    'header', 'footer', 'nav', 'aside',\n    '[class*=\"ad\"]', '[id*=\"ad\"]',\n    '[class*=\"social\"]', '[class*=\"share\"]',\n    '[class*=\"comment\"]', '[class*=\"related\"]',\n    '[class*=\"sponsor\"]', '[class*=\"promo\"]',\n    'script', 'style', 'iframe', 'noscript',\n    '[aria-hidden=\"true\"]', '[style*=\"display: none\"]',\n    'svg', 'canvas', '[role=\"presentation\"]',\n    '[role=\"banner\"]', '[role=\"complementary\"]'\n  ].join(',');\n\n  cloned.querySelectorAll(selectorsToRemove).forEach(function(el) { (el as HTMLElement).remove(); });\n\n  cloned.querySelectorAll('*').forEach(function(el) { \n    (el as HTMLElement).removeAttribute('style');\n    Array.from((el as HTMLElement).attributes).forEach(function(attr) {\n      if ((attr as Attr).name.startsWith('on')) {\n        (el as HTMLElement).removeAttribute((attr as Attr).name);\n      }\n    });\n  });\n\n  cloned.querySelectorAll('div, section, p, span, figure').forEach(function(el) {\n    if (!(el as HTMLElement).innerText.trim() && !(el as HTMLElement).querySelector('img, video, a, table')) {\n      (el as HTMLElement).remove();\n    }\n  });\n\n  cloned.querySelectorAll('p, h1, h2, h3, h4, h5, h6, li, blockquote, button').forEach(function(el) {\n    (el as HTMLElement).textContent = ((el as HTMLElement).innerText || '').replace(/\\s+/g, ' ').trim();\n  });\n\n  cloned.querySelectorAll('img, video, a').forEach(function(el) {\n    var keepAttrs = ['src', 'alt', 'href', 'title', 'poster', 'type', 'aria-label'];\n    Array.from((el as HTMLElement).attributes).forEach(function(attr) {\n      if (!keepAttrs.includes((attr as Attr).name)) (el as HTMLElement).removeAttribute((attr as Attr).name);\n    });\n  });\n\n  return cloned;\n}\n\nfunction getParentContext(element: HTMLElement): any {\n  var parent = element.parentElement;\n  while (parent && parent !== document.body) {\n    if (parent.tagName === 'A' && (parent as HTMLAnchorElement).href) {\n      return {\n        type: 'link',\n        href: (parent as HTMLAnchorElement).href,\n        text: (parent.innerText || '').trim()\n      };\n    }\n    if (parent.tagName === 'BUTTON') {\n      return {\n        type: 'button',\n        text: (parent.innerText || parent.getAttribute('aria-label') || '').trim(),\n        ariaLabel: parent.getAttribute('aria-label') || undefined\n      };\n    }\n    parent = parent.parentElement;\n  }\n  return null;\n}\n\nfunction extractSegments(element: HTMLElement | Element): any[] {\n  element = element as HTMLElement;\n  var segments: any[] = [];\n  var elements = element.querySelectorAll('h1, h2, h3, h4, h5, h6, p, ul, ol, li, figure, video, table, blockquote, pre, button, div');\n\n  elements.forEach(function(el) {\n    if (!(el instanceof HTMLElement)) return;\n    var text = ((el as HTMLElement).innerText || '').trim();\n    if (!text && !el.querySelector('img, video, table') && !['BUTTON', 'FIGURE', 'VIDEO', 'TABLE'].includes(el.tagName)) return;\n\n    var context = getParentContext(el);\n\n    if (['H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(el.tagName)) {\n      segments.push({\n        type: 'heading',\n        level: parseInt(el.tagName[1]),\n        text: text,\n        context: context\n      });\n    } else if (el.tagName === 'P') {\n      segments.push({\n        type: 'paragraph',\n        text: text,\n        context: context\n      });\n    } else if (['UL', 'OL'].includes(el.tagName)) {\n      var items = Array.from(el.querySelectorAll('li')).map(function(li) { return ((li as HTMLElement).innerText || '').trim(); }).filter(Boolean);\n      segments.push({\n        type: 'list',\n        text: items.join(' | '),\n        context: context\n      });\n    } else if (el.tagName === 'LI') {\n      segments.push({\n        type: 'listitem',\n        text: text,\n        context: context\n      });\n    } else if (el.tagName === 'FIGURE') {\n      var img = el.querySelector('img') as HTMLImageElement;\n      if (img) {\n        if (segments.length > 0 && segments[segments.length - 1].type === 'image' && segments[segments.length - 1].data?.src === img.src) {\n          // Do nothing, image already added\n        } else {\n          segments.push({\n            type: 'image',\n            text: el.querySelector('figcaption')?.innerText.trim(),\n            data: {\n              src: img.src,\n              alt: (img.alt || '').trim(),\n              width: img.width || undefined,\n              height: img.height || undefined,\n              caption: el.querySelector('figcaption')?.innerText.trim()\n            },\n            context: context\n          });\n        }\n      }\n    } else if (el.tagName === 'VIDEO') {\n      segments.push({\n        type: 'video',\n        data: {\n          src: (el as HTMLVideoElement).src || el.querySelector('source')?.getAttribute('src') || '',\n          type: (el.querySelector('source')?.getAttribute('type') || ((el as HTMLVideoElement) as any).type) || '',\n          poster: (el as HTMLVideoElement).poster || undefined,\n          duration: (el as HTMLVideoElement).duration || undefined\n        },\n        context: context\n      });\n    } else if (el.tagName === 'TABLE') {\n      var headers = Array.from(el.querySelectorAll('th')).map(function(th) { return ((th as HTMLElement).innerText || '').trim(); });\n      var rows = Array.from(el.querySelectorAll('tr')).map(function(row) {\n        return Array.from(row.querySelectorAll('td')).map(function(td) { return ((td as HTMLElement).innerText || '').trim(); });\n      }).filter(function(row) { return row.length > 0; });\n      segments.push({\n        type: 'table',\n        text: el.querySelector('caption')?.innerText.trim(),\n        data: {\n          headers: headers,\n          rows: rows,\n          caption: el.querySelector('caption')?.innerText.trim()\n        },\n        context: context\n      });\n    } else if (el.tagName === 'BLOCKQUOTE') {\n      segments.push({\n        type: 'quote',\n        text: text,\n        context: context\n      });\n    } else if (el.tagName === 'PRE') {\n      segments.push({\n        type: 'code',\n        text: text,\n        context: context\n      });\n    } else if (el.tagName === 'BUTTON') {\n      segments.push({\n        type: 'button',\n        text: text,\n        data: {\n          text: text,\n          ariaLabel: el.getAttribute('aria-label') || undefined\n        },\n        context: context\n      });\n    } else if (el.tagName === 'DIV') {\n      if (el.children.length === 0 && text.length > 0 && text.length < 50) {\n        if (text.match(/^[\\d.,%]+$/) || text.toLowerCase().includes('saving') || text.toLowerCase().includes('compute') || text.toLowerCase().includes('parameter')) {\n          segments.push({\n            type: 'text_block',\n            text: text,\n            context: context\n          });\n        }\n      } else if (el.querySelector('img') && !el.querySelector('figure')) {\n        var divImg = el.querySelector('img') as HTMLImageElement;\n        var alreadyAdded = segments.some((seg: any) => seg.type === 'image' && seg.data?.src === divImg.src);\n        if (!alreadyAdded) {\n          segments.push({\n            type: 'image',\n            text: null,\n            data: {\n              src: divImg.src,\n              alt: (divImg.alt || '').trim(),\n              width: divImg.width || undefined,\n              height: divImg.height || undefined,\n              caption: null\n            },\n            context: context\n          });\n        }\n      }\n    }\n  });\n\n  return segments;\n}\n\nfunction extractMetadata(doc: Document): any {\n  doc = doc || document;\n  var author = doc.querySelector('meta[name=\"author\"]')?.getAttribute('content') ||\n    (doc.querySelector('[itemprop=\"author\"]') as HTMLElement)?.innerText.trim() ||\n    (doc.querySelector('[rel=\"author\"]') as HTMLElement)?.innerText.trim() ||\n    (doc.querySelector('.author-name, .byline') as HTMLElement)?.innerText.trim();\n  var publishDate = doc.querySelector('meta[name=\"publish-date\"]')?.getAttribute('content') ||\n    doc.querySelector('[itemprop=\"datePublished\"]')?.getAttribute('content') ||\n    doc.querySelector('time[datetime]')?.getAttribute('datetime') ||\n    (doc.querySelector('.date, .published') as HTMLElement)?.innerText.trim();\n  var metaDescription = doc.querySelector('meta[name=\"description\"]')?.getAttribute('content') ||\n    doc.querySelector('meta[property=\"og:description\"]')?.getAttribute('content');\n  var language = doc.documentElement.lang || navigator.language || undefined;\n  var keywords = doc.querySelector('meta[name=\"keywords\"]')?.getAttribute('content')?.split(',').map(function(k: string) { return k.trim(); }) ||\n    Array.from(doc.querySelectorAll('[itemprop=\"keywords\"], .tag, .category')).map(function(el) { return (el as HTMLElement).innerText.trim(); }).filter(Boolean);\n  var categories = Array.from(doc.querySelectorAll('[itemprop=\"genre\"], .category, .section')).map(function(el) { return (el as HTMLElement).innerText.trim(); }).filter(Boolean);\n\n  return {\n    author: author,\n    publishDate: publishDate,\n    metaDescription: metaDescription,\n    language: language,\n    keywords: keywords.length > 0 ? keywords : undefined,\n    categories: categories.length > 0 ? categories : undefined\n  };\n}\n\nfunction filterLinks(links: HTMLElement[]): any[] {\n  var validLinks: any[] = [];\n  var seenHrefs = new Set<string>();\n\n  links.forEach(function(link) {\n    var href = (link as HTMLAnchorElement).href;\n    var text = ((link as HTMLElement).innerText || '').trim();\n    if (!href || !text || href.startsWith('javascript:') || href === '#' || href.startsWith('mailto:')) return;\n\n    var restrictedDomains = [\n      'twitter.com', 'facebook.com', 'linkedin.com', 'instagram.com',\n      'pinterest.com', 'youtube.com', 'tiktok.com', 'snapchat.com'\n    ];\n    try {\n      var url = new URL(href);\n      if (restrictedDomains.some(function(domain) { return url.hostname.includes(domain); })) return;\n      if (url.hostname.includes('ad') || url.pathname.includes('ad') || url.search.includes('ad')) return;\n    } catch {\n      return;\n    }\n\n    if (!seenHrefs.has(href)) {\n      seenHrefs.add(href);\n      validLinks.push({\n        href: href,\n        text: text,\n        title: (link as HTMLAnchorElement).getAttribute('title') || undefined,\n        rel: (link as HTMLAnchorElement).getAttribute('rel') || undefined\n      });\n    }\n  });\n\n  return validLinks;\n}\n\nfunction extractVideos(element: HTMLElement): any[] {\n  var videos: any[] = [];\n  var videoElements = element.querySelectorAll('video, [data-video]');\n\n  videoElements.forEach(function(vid) {\n    vid = vid as HTMLVideoElement;\n    var src = vid.getAttribute('src') || vid.querySelector('source')?.getAttribute('src') || '';\n    if (!src) return;\n\n    videos.push({\n      src: src,\n      type: vid.getAttribute('type') || vid.querySelector('source')?.getAttribute('type') || '',\n      poster: vid.getAttribute('poster') || undefined,\n      duration: vid instanceof HTMLVideoElement ? vid.duration : undefined\n    });\n  });\n\n  return videos;\n}\n\nfunction extractTables(element: HTMLElement): any[] {\n  var tables: any[] = [];\n  var tableElements = element.querySelectorAll('table');\n\n  tableElements.forEach(function(table) {\n    table = table as HTMLTableElement;\n    var headers = Array.from(table.querySelectorAll('th')).map(function(th) { return ((th as HTMLElement).innerText || '').trim(); });\n    var rows = Array.from(table.querySelectorAll('tr')).map(function(row) {\n      return Array.from(row.querySelectorAll('td')).map(function(td) { return ((td as HTMLElement).innerText || '').trim(); });\n    }).filter(function(row) { return row.length > 0; });\n    var caption = table.querySelector('caption')?.innerText.trim();\n\n    if (headers.length > 0 || rows.length > 0) {\n      tables.push({\n        headers: headers,\n        rows: rows,\n        caption: caption\n      });\n    }\n  });\n\n  return tables;\n}\n\nfunction extractContent(doc?: Document): any {\n  doc = doc || document;\n  console.log('[PageExtractor] extractContent called.');\n  try {\n    if (!doc.body.innerText.trim()) {\n      console.warn('[PageExtractor] No content found in body.');\n      return {\n        title: doc.title.trim() || 'Untitled',\n        content: '',\n        text: doc.body.innerText.trim() || '',\n        segments: [],\n        images: [],\n        videos: [],\n        tables: [],\n        links: [],\n        url: doc.location.href,\n        extractedAt: new Date().toISOString(),\n        wordCount: 0,\n        readingTime: 0\n      };\n    }\n\n    var candidates = doc.querySelectorAll('article, main, section, div, [role=\"main\"], [itemprop=\"articleBody\"]');\n    var bestCandidate: HTMLElement | null = null;\n    var highestScore = -Infinity;\n\n    Array.from(candidates).forEach(function(candidate) {\n      if (!(candidate instanceof HTMLElement)) return;\n      var score = scoreElement(candidate, doc);\n      if (score > highestScore) {\n        highestScore = score;\n        bestCandidate = candidate;\n      }\n    });\n\n    if (!bestCandidate || highestScore < 50) {\n      console.warn('No suitable container found, trying fallbacks.');\n      var fallbacks = [doc.body, doc.querySelector('[class*=\"content\"]'), doc.querySelector('[id*=\"content\"]')];\n      for (var i = 0; i < fallbacks.length; i++) {\n        var fallback = fallbacks[i];\n        if (fallback && scoreElement(fallback as HTMLElement, doc) > highestScore) {\n          bestCandidate = fallback as HTMLElement;\n          highestScore = scoreElement(fallback as HTMLElement, doc);\n        }\n      }\n    }\n\n    if (!bestCandidate) {\n      console.warn('No valid content container found, using body fallback.');\n      var bodyText = doc.body.innerText.trim() || '';\n      return {\n        title: doc.title.trim() || 'Untitled',\n        content: '',\n        text: bodyText,\n        segments: [{ type: 'paragraph', text: bodyText }],\n        images: [],\n        videos: [],\n        tables: [],\n        links: [],\n        url: doc.location.href,\n        extractedAt: new Date().toISOString(),\n        wordCount: bodyText.split(/\\s+/).length,\n        readingTime: Math.ceil(bodyText.split(/\\s+/).length / 200)\n      };\n    }\n\n    console.log(`[PageExtractor] Found best candidate: ${bestCandidate.tagName}#${bestCandidate.id}.${bestCandidate.className} with score: ${highestScore}`);\n\n    var cleanedContent = cleanContent(bestCandidate as HTMLElement);\n    var metadata = extractMetadata(doc);\n    var segments = extractSegments(cleanedContent as HTMLElement);\n    var text = cleanedContent.innerText.trim() || '';\n    var wordCount = text.split(/\\s+/).length;\n    var readingTime = Math.ceil(wordCount / 200);\n\n    console.log(`[PageExtractor] Extracted text length after cleaning: ${text.length}`);\n\n    if (text.length < 50) {\n      console.warn('[PageExtractor] Extracted text too short, using body fallback.');\n      const fallbackBodyText = doc.body.innerText.trim() || '';\n      return {\n        title: doc.title.trim() || 'Untitled',\n        content: '',\n        text: fallbackBodyText,\n        segments: [{ type: 'paragraph', text: fallbackBodyText }],\n        images: [],\n        videos: [],\n        tables: [],\n        links: [],\n        url: doc.location.href,\n        extractedAt: new Date().toISOString(),\n        wordCount: fallbackBodyText.split(/\\s+/).length,\n        readingTime: Math.ceil(fallbackBodyText.split(/\\s+/).length / 200),\n        author: metadata.author,\n        publishDate: metadata.publishDate,\n        metaDescription: metadata.metaDescription,\n        language: metadata.language,\n        keywords: metadata.keywords,\n        categories: metadata.categories\n      };\n    }\n\n    return {\n      title: doc.title.trim() || doc.querySelector('h1')?.innerText.trim() || 'Untitled',\n      content: cleanedContent.innerHTML,\n      text: text,\n      segments: segments,\n      images: Array.from(cleanedContent.querySelectorAll('img')).map(function(img) {\n        img = img as HTMLImageElement;\n        return {\n          src: img.src,\n          alt: (img.alt || '').trim(),\n          width: img.width || undefined,\n          height: img.height || undefined,\n          caption: img.closest('figure')?.querySelector('figcaption')?.innerText.trim()\n        };\n      }),\n      videos: extractVideos(cleanedContent as HTMLElement),\n      tables: extractTables(cleanedContent as HTMLElement),\n      links: filterLinks(Array.from(cleanedContent.querySelectorAll('a[href]')) as HTMLElement[]),\n      url: doc.location.href,\n      extractedAt: new Date().toISOString(),\n      wordCount: wordCount,\n      readingTime: readingTime,\n      author: metadata.author,\n      publishDate: metadata.publishDate,\n      metaDescription: metadata.metaDescription,\n      language: metadata.language,\n      keywords: metadata.keywords,\n      categories: metadata.categories\n    };\n  } catch (error) {\n    console.error('Content extraction failed:', error);\n    const fallbackBodyText = doc.body.innerText.trim() || '';\n    return {\n      title: doc.title.trim() || 'Untitled',\n      content: '',\n      text: fallbackBodyText,\n      segments: [{ type: 'paragraph', text: fallbackBodyText }],\n      images: [],\n      videos: [],\n      tables: [],\n      links: [],\n      url: doc.location.href,\n      extractedAt: new Date().toISOString(),\n      wordCount: fallbackBodyText.split(/\\s+/).length,\n      readingTime: Math.ceil(fallbackBodyText.split(/\\s+/).length / 200)\n    };\n  }\n}\n\nconst scraper = {\n  extract: extractContent,\n  version: '2.2.0'\n};\n\n// Expose the scraper object globally for access from executeScript context\nif (typeof window !== 'undefined') {\n  window.TabAgentPageExtractor = scraper;\n}\n\nexport default scraper;"],"names":[],"sourceRoot":""}
{"version":3,"file":"background.js","mappings":";;;;;;;;;AAAA;AACA,MAAM,IAA0C;AAChD,IAAI,iCAAgC,CAAC,MAAQ,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AACxD,IAAI,KAAK,YAQN;AACH,CAAC;AACD;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,GAAG;AACpB,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA,iBAAiB,UAAU;AAC3B;AACA,iBAAiB,QAAQ;AACzB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA,iBAAiB,QAAQ;AACzB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,iDAAiD,kBAAkB,EAAE,sCAAsC,MAAM,KAAK,UAAU,YAAY;AAC5I;AACA;AACA,gDAAgD,kBAAkB,EAAE,sCAAsC,MAAM,KAAK,UAAU,YAAY;AAC3I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB,gCAAgC,MAAM;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,eAAe;AACf;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA,iBAAiB,QAAQ,cAAc;AACvC;AACA;AACA;AACA,6DAA6D,gBAAgB;AAC7E;AACA,iBAAiB,QAAQ,cAAc;AACvC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,mBAAmB;AACnB;AACA,+CAA+C,eAAe;AAC9D;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oCAAoC;AACrD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;AACA,mBAAmB,QAAQ;AAC3B;AACA,mBAAmB,aAAa;AAChC;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AA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","sources":["webpack://tabagent/./node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack://tabagent/./src/DB/dbEvents.ts","webpack://tabagent/./src/events/eventNames.ts","webpack://tabagent/webpack/bootstrap","webpack://tabagent/webpack/runtime/compat get default export","webpack://tabagent/webpack/runtime/define property getters","webpack://tabagent/webpack/runtime/hasOwnProperty shorthand","webpack://tabagent/webpack/runtime/make namespace object","webpack://tabagent/./src/background.ts"],"sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.12.0 - Tue May 14 2024 18:01:29 */\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n  /* vim: set sts=2 sw=2 et tw=80: */\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (!(globalThis.chrome && globalThis.chrome.runtime && globalThis.chrome.runtime.id)) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n  if (!(globalThis.browser && globalThis.browser.runtime && globalThis.browser.runtime.id)) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n\n    // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n          return super.get(key);\n        }\n      }\n\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args);\n\n                // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n        });\n      };\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n            if (!(prop in target)) {\n              return undefined;\n            }\n            let value = target[prop];\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n                get() {\n                  return target[prop];\n                },\n                set(value) {\n                  target[prop] = value;\n                }\n              });\n              return value;\n            }\n            cache[prop] = value;\n            return value;\n          },\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n            return true;\n          },\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n        };\n\n        // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n      });\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {} /* wrappers */, {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      });\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n          const isResultThenable = result !== true && isThenable(result);\n\n          // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          }\n\n          // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          };\n\n          // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          }\n\n          // Let Chrome know that the listener is replying.\n          return true;\n        };\n      });\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    };\n\n    // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = globalThis.browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","// dbEvents.js\n\nimport { ModelAssetManifest } from './idbModelAsset';\n\nexport const DBEventNames = Object.freeze({\n  DB_GET_SESSION_REQUEST: 'DbGetSessionRequest',\n  DB_GET_SESSION_RESPONSE: 'DbGetSessionResponse',\n  DB_ADD_MESSAGE_REQUEST: 'DbAddMessageRequest',\n  DB_ADD_MESSAGE_RESPONSE: 'DbAddMessageResponse',\n  DB_UPDATE_MESSAGE_REQUEST: 'DbUpdateMessageRequest',\n  DB_UPDATE_MESSAGE_RESPONSE: 'DbUpdateMessageResponse',\n  DB_UPDATE_STATUS_REQUEST: 'DbUpdateStatusRequest',\n  DB_UPDATE_STATUS_RESPONSE: 'DbUpdateStatusResponse',\n  DB_DELETE_MESSAGE_REQUEST: 'DbDeleteMessageRequest',\n  DB_DELETE_MESSAGE_RESPONSE: 'DbDeleteMessageResponse',\n  DB_TOGGLE_STAR_REQUEST: 'DbToggleStarRequest',\n  DB_TOGGLE_STAR_RESPONSE: 'DbToggleStarResponse',\n  DB_CREATE_SESSION_REQUEST: 'DbCreateSessionRequest',\n  DB_CREATE_SESSION_RESPONSE: 'DbCreateSessionResponse',\n  DB_DELETE_SESSION_REQUEST: 'DbDeleteSessionRequest',\n  DB_DELETE_SESSION_RESPONSE: 'DbDeleteSessionResponse',\n  DB_RENAME_SESSION_REQUEST: 'DbRenameSessionRequest',\n  DB_RENAME_SESSION_RESPONSE: 'DbRenameSessionResponse',\n  DB_GET_ALL_SESSIONS_REQUEST: 'DbGetAllSessionsRequest',\n  DB_GET_ALL_SESSIONS_RESPONSE: 'DbGetAllSessionsResponse',\n  DB_GET_STARRED_SESSIONS_REQUEST: 'DbGetStarredSessionsRequest',\n  DB_GET_STARRED_SESSIONS_RESPONSE: 'DbGetStarredSessionsResponse',\n  DB_MESSAGES_UPDATED_NOTIFICATION: 'DbMessagesUpdatedNotification',\n  DB_STATUS_UPDATED_NOTIFICATION: 'DbStatusUpdatedNotification',\n  DB_SESSION_UPDATED_NOTIFICATION: 'DbSessionUpdatedNotification',\n  DB_INITIALIZE_REQUEST: 'DbInitializeRequest',\n  DB_INITIALIZATION_COMPLETE_NOTIFICATION: 'DbInitializationCompleteNotification',\n  DB_GET_LOGS_REQUEST: 'DbGetLogsRequest',\n  DB_GET_LOGS_RESPONSE: 'DbGetLogsResponse',\n  DB_GET_UNIQUE_LOG_VALUES_REQUEST: 'DbGetUniqueLogValuesRequest',\n  DB_GET_UNIQUE_LOG_VALUES_RESPONSE: 'DbGetUniqueLogValuesResponse',\n  DB_CLEAR_LOGS_REQUEST: 'DbClearLogsRequest',\n  DB_CLEAR_LOGS_RESPONSE: 'DbClearLogsResponse',\n  DB_GET_CURRENT_AND_LAST_LOG_SESSION_IDS_REQUEST: 'DbGetCurrentAndLastLogSessionIdsRequest',\n  DB_GET_CURRENT_AND_LAST_LOG_SESSION_IDS_RESPONSE: 'DbGetCurrentAndLastLogSessionIdsResponse',\n  DB_ADD_LOG_REQUEST: 'DbAddLogRequest',\n  DB_ADD_LOG_RESPONSE: 'DbAddLogResponse', // Response for add log, if ever needed (currently fire-and-forget)\n  DB_GET_READY_STATE_REQUEST: 'DbGetReadyStateRequest',\n  DB_GET_READY_STATE_RESPONSE: 'DbGetReadyStateResponse',\n  DB_RESET_DATABASE_REQUEST: 'DbResetDatabaseRequest',\n  DB_RESET_DATABASE_RESPONSE: 'DbResetDatabaseResponse',\n\n  // Model Asset DB Operations\n  DB_ADD_MODEL_ASSET_REQUEST: 'DbAddModelAssetRequest',       // For adding chunks\n  DB_ADD_MODEL_ASSET_RESPONSE: 'DbAddModelAssetResponse',\n  DB_COUNT_MODEL_ASSET_CHUNKS_REQUEST: 'DbCountModelAssetChunksRequest',\n  DB_COUNT_MODEL_ASSET_CHUNKS_RESPONSE: 'DbCountModelAssetChunksResponse',\n  DB_LOG_ALL_CHUNK_GROUP_IDS_FOR_MODEL_REQUEST: 'DbLogAllChunkGroupIdsForModelRequest',\n  DB_LOG_ALL_CHUNK_GROUP_IDS_FOR_MODEL_RESPONSE: 'DbLogAllChunkGroupIdsForModelResponse',\n  DB_LIST_MODEL_FILES_REQUEST: 'DbListModelFilesRequest',     // Should ideally list manifests\n  DB_LIST_MODEL_FILES_RESPONSE: 'DbListModelFilesResponse',\n  DB_GET_MODEL_ASSET_CHUNKS_REQUEST: 'DbGetModelAssetChunksRequest', // Gets multiple chunk records (metadata or full)\n  DB_GET_MODEL_ASSET_CHUNKS_RESPONSE: 'DbGetModelAssetChunksResponse',\n  DB_GET_MODEL_ASSET_CHUNK_REQUEST: 'DbGetModelAssetChunkRequest', // Gets a single chunk record (with data)\n  DB_GET_MODEL_ASSET_CHUNK_RESPONSE: 'DbGetModelAssetChunkResponse',\n\n  // Model Asset Manifest Operations (NEW)\n  DB_ADD_MANIFEST_REQUEST: 'DbAddManifestRequest',\n  DB_ADD_MANIFEST_RESPONSE: 'DbAddManifestResponse',\n  DB_GET_MANIFEST_REQUEST: 'DbGetManifestRequest',\n  DB_GET_MANIFEST_RESPONSE: 'DbGetManifestResponse',\n\n  // General DB Worker and Initialization\n  DB_ENSURE_INITIALIZED_REQUEST: 'DbEnsureInitializedRequest',\n  DB_ENSURE_INITIALIZED_RESPONSE: 'DbEnsureInitializedResponse',\n  DB_INIT_WORKER_REQUEST: 'DbInitWorkerRequest', // This was unused in db.js handler map\n  DB_INIT_WORKER_RESPONSE: 'DbInitWorkerResponse',\n  DB_WORKER_ERROR: 'DbWorkerError', // Notification from worker for unhandled errors\n  DB_WORKER_RESET: 'DbWorkerReset', // Potential command or notification for worker reset\n\n  // New events\n  DB_CREATE_ALL_FILE_MANIFESTS_FOR_REPO_REQUEST: 'DbCreateAllFileManifestsForRepoRequest',\n  DB_CREATE_ALL_FILE_MANIFESTS_FOR_REPO_RESPONSE: 'DbCreateAllFileManifestsForRepoResponse',\n  DB_UPDATE_ALL_FILE_MANIFESTS_FOR_REPO_REQUEST: 'DbUpdateAllFileManifestsForRepoRequest',\n  DB_UPDATE_ALL_FILE_MANIFESTS_FOR_REPO_RESPONSE: 'DbUpdateAllFileManifestsForRepoResponse',\n  DB_DELETE_ALL_FILE_MANIFESTS_FOR_REPO_REQUEST: 'DbDeleteAllFileManifestsForRepoRequest',\n  DB_DELETE_ALL_FILE_MANIFESTS_FOR_REPO_RESPONSE: 'DbDeleteAllFileManifestsForRepoResponse',\n  DB_CREATE_MANIFEST_BY_CHUNK_GROUP_ID_REQUEST: 'DbCreateManifestByChunkGroupIdRequest',\n  DB_CREATE_MANIFEST_BY_CHUNK_GROUP_ID_RESPONSE: 'DbCreateManifestByChunkGroupIdResponse',\n  DB_UPDATE_MANIFEST_BY_CHUNK_GROUP_ID_REQUEST: 'DbUpdateManifestByChunkGroupIdRequest',\n  DB_UPDATE_MANIFEST_BY_CHUNK_GROUP_ID_RESPONSE: 'DbUpdateManifestByChunkGroupIdResponse',\n  DB_DELETE_MANIFEST_BY_CHUNK_GROUP_ID_REQUEST: 'DbDeleteManifestByChunkGroupIdRequest',\n  DB_DELETE_MANIFEST_BY_CHUNK_GROUP_ID_RESPONSE: 'DbDeleteManifestByChunkGroupIdResponse',\n  DB_READ_MANIFEST_REQUEST: 'DbReadManifestRequest',\n  DB_READ_MANIFEST_RESPONSE: 'DbReadManifestResponse',\n  DB_UPDATE_MANIFEST_REQUEST: 'DbUpdateManifestRequest',\n  DB_UPDATE_MANIFEST_RESPONSE: 'DbUpdateManifestResponse',\n  DB_DELETE_MANIFEST_REQUEST: 'DbDeleteManifestRequest',\n  DB_DELETE_MANIFEST_RESPONSE: 'DbDeleteManifestResponse',\n  DB_UPDATE_CHUNK_REQUEST: 'DbUpdateChunkRequest',\n  DB_UPDATE_CHUNK_RESPONSE: 'DbUpdateChunkResponse',\n  DB_DELETE_CHUNK_REQUEST: 'DbDeleteChunkRequest',\n  DB_DELETE_CHUNK_RESPONSE: 'DbDeleteChunkResponse',\n  DB_GET_ALL_MODEL_FILE_MANIFESTS_REQUEST: 'DbGetAllModelFileManifestsRequest',\n  DB_GET_ALL_MODEL_FILE_MANIFESTS_RESPONSE: 'DbGetAllModelFileManifestsResponse',\n  DB_MANIFEST_UPDATED_NOTIFICATION: 'DbManifestUpdatedNotification',\n});\n\nfunction generateUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\nexport class DbEventBase {\n  requestId: string;\n  timestamp: number;\n  type?: string;\n  payload?: any;\n  constructor(requestId: string | null = null) {\n    this.requestId = requestId || generateUUID();\n    this.timestamp = Date.now();\n  }\n}\n\nexport class DbResponseBase extends DbEventBase {\n  success: boolean;\n  data: any;\n  error: string | null;\n  type?: string;\n  constructor(originalRequestId: string, success: boolean, data: any = null, error: any = null) {\n    super(originalRequestId);\n    this.success = success;\n    this.data = data;\n    this.error = error ? (typeof error === 'string' ? error : (error.message || String(error))) : null;\n  }\n}\n\nclass DbNotificationBase {\n  sessionId: string;\n  timestamp: number;\n  type?: string;\n  payload?: any;\n  constructor(sessionId: string) {\n    this.sessionId = sessionId;\n    this.timestamp = Date.now();\n  }\n}\n\n// --- Standard Session/Message/Log Events (Existing - no changes needed below unless specified) ---\n\nexport class DbGetSessionResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_SESSION_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, sessionData: any, error: any = null) {\n    super(originalRequestId, success, sessionData, error);\n    this.type = DbGetSessionResponse.type;\n  }\n}\n\nexport class DbAddMessageResponse extends DbResponseBase {\n  static type = DBEventNames.DB_ADD_MESSAGE_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, newMessageId: any, error: any = null) {\n    super(originalRequestId, success, { newMessageId }, error);\n    this.type = DbAddMessageResponse.type;\n  }\n}\n\nexport class DbUpdateMessageResponse extends DbResponseBase {\n    static type = DBEventNames.DB_UPDATE_MESSAGE_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, data: any = true, error: any = null) { // data defaults to true for simple success\n        super(originalRequestId, success, data, error);\n        this.type = DbUpdateMessageResponse.type;\n    }\n}\n\nexport class DbUpdateStatusResponse extends DbResponseBase {\n  static type = DBEventNames.DB_UPDATE_STATUS_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, data: any = true, error: any = null) {\n    super(originalRequestId, success, data, error);\n    this.type = DbUpdateStatusResponse.type;\n  }\n}\n\nexport class DbDeleteMessageResponse extends DbResponseBase {\n    static type = DBEventNames.DB_DELETE_MESSAGE_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, data: any = true, error: any = null) {\n        super(originalRequestId, success, data, error);\n        this.type = DbDeleteMessageResponse.type;\n    }\n}\n\nexport class DbToggleStarResponse extends DbResponseBase {\n    static type = DBEventNames.DB_TOGGLE_STAR_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, updatedSessionData: any, error: any = null) {\n        super(originalRequestId, success, updatedSessionData, error);\n        this.type = DbToggleStarResponse.type;\n    }\n}\n\nexport class DbCreateSessionResponse extends DbResponseBase {\n    static type = DBEventNames.DB_CREATE_SESSION_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, newSessionId: any, error: any = null) {\n        super(originalRequestId, success, { newSessionId }, error);\n        this.type = DbCreateSessionResponse.type;\n    }\n    get newSessionId() { return this.data?.newSessionId; }\n}\n\nexport class DbDeleteSessionResponse extends DbResponseBase {\n    static type = DBEventNames.DB_DELETE_SESSION_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, data: any = true, error: any = null) {\n        super(originalRequestId, success, data, error);\n        this.type = DbDeleteSessionResponse.type;\n    }\n}\n\nexport class DbRenameSessionResponse extends DbResponseBase {\n    static type = DBEventNames.DB_RENAME_SESSION_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, updatedSessionData: any, error: any = null) {\n        super(originalRequestId, success, updatedSessionData, error);\n        this.type = DbRenameSessionResponse.type;\n    }\n}\n\nexport class DbGetAllSessionsResponse extends DbResponseBase {\n    static type = DBEventNames.DB_GET_ALL_SESSIONS_RESPONSE;\n    constructor(requestId: string, success: boolean, sessions: any = null, error: any = null) {\n        super(requestId, success, sessions, error); // sessions are directly in 'data'\n        this.type = DbGetAllSessionsResponse.type;\n    }\n}\n\nexport class DbGetStarredSessionsResponse extends DbResponseBase {\n    static type = DBEventNames.DB_GET_STARRED_SESSIONS_RESPONSE;\n    constructor(requestId: string, success: boolean, starredSessions: any = null, error: any = null) {\n        super(requestId, success, starredSessions, error); // starredSessions are directly in 'data'\n        this.type = DbGetStarredSessionsResponse.type;\n    }\n}\n\nexport class DbGetReadyStateResponse extends DbResponseBase {\n    static type = DBEventNames.DB_GET_READY_STATE_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, readyState: any, error: any = null) { // readyState = { ready: boolean }\n        super(originalRequestId, success, readyState, error);\n        this.type = DbGetReadyStateResponse.type;\n    }\n}\n\nexport class DbGetSessionRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_SESSION_REQUEST;\n  constructor(sessionId: string) {\n    super();\n    this.type = DbGetSessionRequest.type;\n    this.payload = { sessionId };\n  }\n}\n\nexport class DbAddMessageRequest extends DbEventBase {\n  static type = DBEventNames.DB_ADD_MESSAGE_REQUEST;\n  constructor(sessionId: string, messageObject: any) {\n    super();\n    this.type = DbAddMessageRequest.type;\n    this.payload = { sessionId, messageObject };\n  }\n}\n\nexport class DbUpdateMessageRequest extends DbEventBase {\n    static type = DBEventNames.DB_UPDATE_MESSAGE_REQUEST;\n    constructor(sessionId: string, messageId: string, updates: any) {\n        super();\n        this.type = DbUpdateMessageRequest.type;\n        this.payload = { sessionId, messageId, updates };\n    }\n}\n\nexport class DbUpdateStatusRequest extends DbEventBase {\n  static type = DBEventNames.DB_UPDATE_STATUS_REQUEST;\n  constructor(sessionId: string, status: any) {\n    super();\n    this.type = DbUpdateStatusRequest.type;\n    this.payload = { sessionId, status };\n  }\n}\n\nexport class DbDeleteMessageRequest extends DbEventBase {\n    static type = DBEventNames.DB_DELETE_MESSAGE_REQUEST;\n    constructor(sessionId: string, messageId: string) {\n        super();\n        this.type = DbDeleteMessageRequest.type;\n        this.payload = { sessionId, messageId };\n    }\n}\n\nexport class DbToggleStarRequest extends DbEventBase {\n    static type = DBEventNames.DB_TOGGLE_STAR_REQUEST;\n    constructor(sessionId: string) {\n        super();\n        this.type = DbToggleStarRequest.type;\n        this.payload = { sessionId };\n    }\n}\n\nexport class DbCreateSessionRequest extends DbEventBase {\n    static type = DBEventNames.DB_CREATE_SESSION_REQUEST;\n    constructor(initialMessage: any) {\n        super();\n        this.type = DbCreateSessionRequest.type;\n        this.payload = { initialMessage };\n    }\n}\n\nexport class DbInitializeRequest extends DbEventBase {\n    static type = DBEventNames.DB_INITIALIZE_REQUEST;\n    constructor() {\n        super();\n        this.type = DbInitializeRequest.type;\n        this.payload = {};\n    }\n}\n\nexport class DbDeleteSessionRequest extends DbEventBase {\n    static type = DBEventNames.DB_DELETE_SESSION_REQUEST;\n    constructor(sessionId: string) {\n        super();\n        this.type = DbDeleteSessionRequest.type;\n        this.payload = { sessionId };\n    }\n}\n\nexport class DbRenameSessionRequest extends DbEventBase {\n    static type = DBEventNames.DB_RENAME_SESSION_REQUEST;\n    constructor(sessionId: string, newName: string) {\n        super();\n        this.type = DbRenameSessionRequest.type;\n        this.payload = { sessionId, newName };\n    }\n}\n\nexport class DbGetAllSessionsRequest extends DbEventBase {\n    static type = DBEventNames.DB_GET_ALL_SESSIONS_REQUEST;\n    constructor() {\n        super();\n        this.type = DbGetAllSessionsRequest.type;\n    }\n}\n\nexport class DbGetStarredSessionsRequest extends DbEventBase {\n    static type = DBEventNames.DB_GET_STARRED_SESSIONS_REQUEST;\n    constructor() {\n        super();\n        this.type = DbGetStarredSessionsRequest.type;\n    }\n}\n\nexport class DbGetReadyStateRequest extends DbEventBase {\n    static type = DBEventNames.DB_GET_READY_STATE_REQUEST;\n    constructor() {\n        super();\n        this.type = DbGetReadyStateRequest.type;\n    }\n}\n\nexport class DbMessagesUpdatedNotification extends DbNotificationBase {\n    static type = DBEventNames.DB_MESSAGES_UPDATED_NOTIFICATION;\n    constructor(sessionId: string, messages: any) {\n        super(sessionId);\n        this.type = DbMessagesUpdatedNotification.type;\n        this.payload = { messages };\n    }\n}\n\nexport class DbStatusUpdatedNotification extends DbNotificationBase {\n    static type = DBEventNames.DB_STATUS_UPDATED_NOTIFICATION;\n    constructor(sessionId: string, status: any) {\n        super(sessionId);\n        this.type = DbStatusUpdatedNotification.type;\n        this.payload = { status };\n    }\n}\n\nexport class DbSessionUpdatedNotification extends DbNotificationBase {\n    static type = DBEventNames.DB_SESSION_UPDATED_NOTIFICATION;\n    constructor(sessionId: string, updatedSessionData: any, updateType: string = 'update') { // Added updateType\n        super(sessionId);\n        this.type = DbSessionUpdatedNotification.type;\n        this.payload = { session: updatedSessionData, updateType };\n    }\n}\n\nexport class DbInitializationCompleteNotification {\n    static type = DBEventNames.DB_INITIALIZATION_COMPLETE_NOTIFICATION;\n    type: string;\n    timestamp: number;\n    payload: any;\n    constructor({ success, error = null, dbStatus = null, sessionIds = null }: { success: boolean, error?: any, dbStatus?: any, sessionIds?: any }) { // Added dbStatus and sessionIds\n        this.type = DbInitializationCompleteNotification.type;\n        this.timestamp = Date.now();\n        this.payload = { success, error: error ? (typeof error === 'string' ? error : (error.message || String(error))) : null, dbStatus, sessionIds };\n    }\n}\n\nexport class DbGetLogsResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_LOGS_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, logs: any, error: any = null) {\n    super(originalRequestId, success, logs, error);\n    this.type = DbGetLogsResponse.type;\n  }\n}\n\nexport class DbGetUniqueLogValuesResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_UNIQUE_LOG_VALUES_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, values: any, error: any = null) {\n    super(originalRequestId, success, values, error);\n    this.type = DbGetUniqueLogValuesResponse.type;\n  }\n}\n\nexport class DbClearLogsResponse extends DbResponseBase {\n  static type = DBEventNames.DB_CLEAR_LOGS_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, data: any = { deletedCount: 0 }, error: any = null) { // Added deletedCount\n    super(originalRequestId, success, data, error);\n    this.type = DbClearLogsResponse.type;\n  }\n}\n\nexport class DbGetCurrentAndLastLogSessionIdsResponse extends DbResponseBase {\n    static type = DBEventNames.DB_GET_CURRENT_AND_LAST_LOG_SESSION_IDS_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, ids: any, error: any = null) {\n      super(originalRequestId, success, ids, error);\n      this.type = DbGetCurrentAndLastLogSessionIdsResponse.type;\n    }\n  }\n\nexport class DbAddLogRequest extends DbEventBase {\n  static type = DBEventNames.DB_ADD_LOG_REQUEST;\n  constructor(logEntryData: any) {\n    super();\n    this.type = DbAddLogRequest.type;\n    this.payload = { logEntryData };\n  }\n}\n// DbAddLogResponse is not strictly necessary if it's fire and forget,\n// but can be added for consistency if db.js handler for it sends one.\nexport class DbAddLogResponse extends DbResponseBase {\n  static type = DBEventNames.DB_ADD_LOG_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, data: any = true, error: any = null) {\n    super(originalRequestId, success, data, error);\n    this.type = DbAddLogResponse.type;\n  }\n}\n\n\nexport class DbGetLogsRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_LOGS_REQUEST;\n  constructor(filters: any) {\n    super();\n    this.type = DbGetLogsRequest.type;\n    this.payload = { filters };\n  }\n}\n\nexport class DbGetUniqueLogValuesRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_UNIQUE_LOG_VALUES_REQUEST;\n  constructor(fieldName: string) {\n    super();\n    this.type = DbGetUniqueLogValuesRequest.type;\n    this.payload = { fieldName };\n  }\n}\n\nexport class DbClearLogsRequest extends DbEventBase {\n    static type = DBEventNames.DB_CLEAR_LOGS_REQUEST;\n    constructor(filter: string = 'all') {\n        super();\n        this.type = DbClearLogsRequest.type;\n        this.payload = { filter };\n    }\n}\n\nexport class DbGetCurrentAndLastLogSessionIdsRequest extends DbEventBase {\n    static type = DBEventNames.DB_GET_CURRENT_AND_LAST_LOG_SESSION_IDS_REQUEST;\n    constructor() {\n        super();\n        this.type = DbGetCurrentAndLastLogSessionIdsRequest.type;\n    }\n}\n\nexport class DbResetDatabaseRequest extends DbEventBase {\n  static type = DBEventNames.DB_RESET_DATABASE_REQUEST;\n  constructor() {\n    super();\n    this.type = DbResetDatabaseRequest.type;\n  }\n}\n\nexport class DbResetDatabaseResponse extends DbResponseBase {\n  static type = DBEventNames.DB_RESET_DATABASE_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, data: any = true, error: any = null) {\n    super(originalRequestId, success, data, error);\n    this.type = DbResetDatabaseResponse.type;\n  }\n}\n\n// --- Model Asset DB Operations ---\n\n/**\n * @typedef {Object} ModelAssetChunkPayloadForRequest\n * @property {string} folder - The modelId or folder name.\n * @property {string} fileName - The name of the asset file.\n * @property {string} fileType - The type/extension of the file.\n * @property {ArrayBuffer} data - The binary data of the chunk.\n * @property {number} chunkIndex - The 0-based index of this chunk.\n * @property {number} totalChunks - The total number of chunks for this file.\n * @property {string} chunkGroupId - Identifier for the group of chunks (e.g., modelId/fileName).\n * // @property {number} [totalFileSize] - Optional: Total size of the parent file (contextual).\n */\nexport class DbAddModelAssetRequest extends DbEventBase {\n  static type = DBEventNames.DB_ADD_MODEL_ASSET_REQUEST;\n  /**\n   * @param {ModelAssetChunkPayloadForRequest} payload\n   */\n  constructor(payload: any) {\n    super();\n    this.type = DbAddModelAssetRequest.type;\n    this.payload = payload;\n  }\n}\n\nexport class DbAddModelAssetResponse extends DbResponseBase {\n  static type = DBEventNames.DB_ADD_MODEL_ASSET_RESPONSE;\n  /**\n   * @param {string} originalRequestId\n   * @param {boolean} success\n   * @param {{ chunkId: string } | null} data - On success, object containing the ID of the stored chunk.\n   * @param {string | null} error\n   */\n  constructor(originalRequestId: string, success: boolean, data: any, error: any = null) { // data = { chunkId: '...' }\n    super(originalRequestId, success, data, error);\n    this.type = DbAddModelAssetResponse.type;\n  }\n}\n\nexport class DbCountModelAssetChunksRequest extends DbEventBase {\n  static type = DBEventNames.DB_COUNT_MODEL_ASSET_CHUNKS_REQUEST;\n  /**\n   * @param {{folder: string, fileName: string, expectedSize?: number, expectedChunks?: number}} payload\n   */\n  constructor(payload: any) {\n    super();\n    this.type = DbCountModelAssetChunksRequest.type;\n    this.payload = payload;\n  }\n}\n\nexport class DbCountModelAssetChunksResponse extends DbResponseBase {\n  static type = DBEventNames.DB_COUNT_MODEL_ASSET_CHUNKS_RESPONSE;\n  /**\n   * @param {string} originalRequestId\n   * @param {boolean} success\n   * @param {{ count: number, verified: boolean, error?: string } | null} data - Result of count/verification.\n   * @param {string | null} error - Top-level error for the request.\n   */\n  constructor(originalRequestId: string, success: boolean, data: any, error: any = null) {\n    super(originalRequestId, success, data, error); // data = { count, verified, (optional error for count op itself) }\n    this.type = DbCountModelAssetChunksResponse.type;\n  }\n  get count() { return this.data?.count; }\n  get verified() { return this.data?.verified; }\n}\n\nexport class DbLogAllChunkGroupIdsForModelRequest extends DbEventBase {\n  static type = DBEventNames.DB_LOG_ALL_CHUNK_GROUP_IDS_FOR_MODEL_REQUEST;\n  constructor(payload: any) { // payload: { folder: string }\n    super();\n    this.type = DbLogAllChunkGroupIdsForModelRequest.type;\n    this.payload = payload;\n  }\n}\nexport class DbLogAllChunkGroupIdsForModelResponse extends DbResponseBase {\n  static type = DBEventNames.DB_LOG_ALL_CHUNK_GROUP_IDS_FOR_MODEL_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, groupIdsArray: string[], error: any = null) { // groupIdsArray is string[]\n    super(originalRequestId, success, groupIdsArray, error);\n    this.type = DbLogAllChunkGroupIdsForModelResponse.type;\n  }\n}\n\nexport class DbListModelFilesRequest extends DbEventBase {\n  static type = DBEventNames.DB_LIST_MODEL_FILES_REQUEST;\n  constructor(payload: any) { // payload: { modelId: string } or { folder: string }\n    super();\n    this.type = DbListModelFilesRequest.type;\n    this.payload = payload;\n  }\n}\nexport class DbListModelFilesResponse extends DbResponseBase {\n  static type = DBEventNames.DB_LIST_MODEL_FILES_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, fileNamesArray: string[], error: any = null) { // fileNamesArray is string[]\n    super(originalRequestId, success, fileNamesArray, error);\n    this.type = DbListModelFilesResponse.type;\n  }\n}\n\nexport class DbGetModelAssetChunksRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_MODEL_ASSET_CHUNKS_REQUEST;\n  constructor(payload: any) { // payload: { chunkGroupId: string, metadataOnly?: boolean }\n    super();\n    this.type = DbGetModelAssetChunksRequest.type;\n    this.payload = payload;\n  }\n}\nexport class DbGetModelAssetChunksResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_MODEL_ASSET_CHUNKS_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, chunksArray: any, error: any = null) { // chunksArray is ModelAssetChunk[]\n    super(originalRequestId, success, chunksArray, error);\n    this.type = DbGetModelAssetChunksResponse.type;\n  }\n}\n\nexport class DbGetModelAssetChunkRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_MODEL_ASSET_CHUNK_REQUEST;\n  constructor(payload: any) { // payload: { folder: string, fileName: string, chunkIndex: number } or { chunkId: string }\n    super();\n    this.type = DbGetModelAssetChunkRequest.type;\n    this.payload = payload;\n  }\n}\nexport class DbGetModelAssetChunkResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_MODEL_ASSET_CHUNK_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, chunkData: any, error: any = null) { // chunkData is ModelAssetChunk\n    super(originalRequestId, success, chunkData, error);\n    this.type = DbGetModelAssetChunkResponse.type;\n  }\n  get chunk() { return this.data; }\n}\n\n\n// --- Model Asset Manifest Operations (NEW - Definitions) ---\n\n/**\n * @typedef {import('./idbModelAsset').ModelAssetManifest} ModelAssetManifest\n */\n\n/**\n * @typedef {Object} ModelAssetManifestPayloadForRequest\n * @property {string} chunkGroupId - Identifier for the group of chunks (e.g., modelId/fileName).\n * @property {string} fileName - The original name of the model asset file.\n * @property {string} folder - The \"folder\" or modelId this asset belongs to.\n * @property {string} fileType - The type/extension of the file (e.g., 'onnx', 'json').\n * @property {number} totalFileSize - The total size of the complete file in bytes.\n * @property {number} totalChunks - The total number of chunks the file was split into.\n * @property {number} chunkSizeUsed - The CHUNK_SIZE (in bytes) that was used.\n * @property {'complete' | 'incomplete' | string} status - The status of this asset.\n * @property {number} downloadTimestamp - Timestamp of when the download/processing was completed.\n * @property {string} [id] - Optional: if pre-defining the manifest ID.\n * @property {string} [checksum] - Optional: checksum of the full file.\n * @property {string | number} [version] - Optional: version of the file.\n */\nexport class DbAddManifestRequest extends DbEventBase {\n  static type = DBEventNames.DB_ADD_MANIFEST_REQUEST;\n  payload: ModelAssetManifest;\n  /**\n   * @param {ModelAssetManifest} payload\n   */\n  constructor(payload: ModelAssetManifest) {\n    super();\n    this.type = DbAddManifestRequest.type;\n    this.payload = payload;\n  }\n}\n\nexport class DbAddManifestResponse extends DbResponseBase {\n  static type = DBEventNames.DB_ADD_MANIFEST_RESPONSE;\n  data: { manifestId: string } | null;\n  /**\n   * @param {string} originalRequestId\n   * @param {boolean} success\n   * @param {{ manifestId: string } | null} data - On success, object containing the ID of the stored/updated manifest.\n   * @param {string | null} error\n   */\n  constructor(originalRequestId: string, success: boolean, data: { manifestId: string } | null, error: any = null) {\n    super(originalRequestId, success, data, error);\n    this.type = DbAddManifestResponse.type;\n    this.data = data;\n  }\n  get manifestId() { return this.data?.manifestId; }\n}\n\n/**\n * @typedef {Object} GetManifestPayload\n * @property {string} folder - The folder (modelId) of the asset.\n * @property {string} fileName - The fileName of the asset.\n */\nexport class DbGetManifestRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_MANIFEST_REQUEST;\n  payload: { folder: string; fileName: string };\n  /**\n   * @param {{ folder: string, fileName: string }} payload\n   */\n  constructor(payload: { folder: string; fileName: string }) {\n    super();\n    this.type = DbGetManifestRequest.type;\n    this.payload = payload;\n  }\n}\n\nexport class DbGetManifestResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_MANIFEST_RESPONSE;\n  data: ModelAssetManifest | null;\n  /**\n   * The manifest object (from idbModelAsset.ts ModelAssetManifest interface) is expected\n   * to be the direct value of the `data` property in this response.\n   * @param {string} originalRequestId\n   * @param {boolean} success\n   * @param {ModelAssetManifest | null} data - The manifest object or null.\n   * @param {string | null} error\n   */\n  constructor(originalRequestId: string, success: boolean, data: ModelAssetManifest | null, error: any = null) {\n    super(originalRequestId, success, data, error);\n    this.type = DbGetManifestResponse.type;\n    this.data = data;\n  }\n  /** @returns {ModelAssetManifest | null} */\n  get manifest() { return this.data; }\n}\n\n\n// --- General DB Worker and Initialization ---\nexport class DbEnsureInitializedRequest extends DbEventBase {\n  static type = DBEventNames.DB_ENSURE_INITIALIZED_REQUEST;\n  constructor() {\n    super();\n    this.type = DbEnsureInitializedRequest.type;\n  }\n}\n\nexport class DbEnsureInitializedResponse extends DbResponseBase {\n  static type = DBEventNames.DB_ENSURE_INITIALIZED_RESPONSE;\n  // data can be { success: boolean, dbStatus: object, sessionIds: object } or null on error\n  constructor(originalRequestId: string, success: boolean, data: any = null, error: any = null) {\n    super(originalRequestId, success, data, error);\n    this.type = DbEnsureInitializedResponse.type;\n  }\n}\n\n// DbInitWorkerRequest was previously noted as unused in db.js handler map.\n// If it becomes used, define its payload and response. For now, just the request.\nexport class DbInitWorkerRequest extends DbEventBase {\n  static type = DBEventNames.DB_INIT_WORKER_REQUEST;\n  constructor(payload: any = {}) { // e.g., payload could contain schema if needed by worker directly\n      super();\n      this.type = DbInitWorkerRequest.type;\n      this.payload = payload;\n  }\n}\n// DbInitWorkerResponse already exists in your DBEventNames, assuming a simple success/error response.\nexport class DbInitWorkerResponse extends DbResponseBase {\n    static type = DBEventNames.DB_INIT_WORKER_RESPONSE;\n    constructor(originalRequestId: string, success: boolean, data: any = null, error: any = null) {\n        super(originalRequestId, success, data, error);\n        this.type = DbInitWorkerResponse.type;\n    }\n}\n\n// --- Notification Publishing ---\n\nexport class DbWorkerCreatedNotification {\n  static type = 'DbWorkerCreatedNotification';\n  type: string;\n  timestamp: number;\n  payload: any;\n  constructor(payload: any) {\n    this.type = DbWorkerCreatedNotification.type;\n    this.timestamp = Date.now();\n    this.payload = payload;\n  }\n}\n\n// Add new event classes for ModelAsset CRUD/static symmetry\nexport class DbCreateAllFileManifestsForRepoRequest extends DbEventBase {\n  static type = DBEventNames.DB_CREATE_ALL_FILE_MANIFESTS_FOR_REPO_REQUEST;\n  payload: { manifests: ModelAssetManifest[] };\n  constructor(manifests: ModelAssetManifest[]) {\n    super();\n    this.type = DbCreateAllFileManifestsForRepoRequest.type;\n    this.payload = { manifests };\n  }\n}\nexport class DbCreateAllFileManifestsForRepoResponse extends DbResponseBase {\n  static type = DBEventNames.DB_CREATE_ALL_FILE_MANIFESTS_FOR_REPO_RESPONSE;\n  data: string[];\n  constructor(requestId: string, success: boolean, ids: string[], error: any = null) {\n    super(requestId, success, ids, error);\n    this.type = DbCreateAllFileManifestsForRepoResponse.type;\n    this.data = ids;\n  }\n}\nexport class DbUpdateAllFileManifestsForRepoRequest extends DbEventBase {\n  static type = DBEventNames.DB_UPDATE_ALL_FILE_MANIFESTS_FOR_REPO_REQUEST;\n  payload: { manifests: ModelAssetManifest[] };\n  constructor(manifests: ModelAssetManifest[]) {\n    super();\n    this.type = DbUpdateAllFileManifestsForRepoRequest.type;\n    this.payload = { manifests };\n  }\n}\nexport class DbUpdateAllFileManifestsForRepoResponse extends DbResponseBase {\n  static type = DBEventNames.DB_UPDATE_ALL_FILE_MANIFESTS_FOR_REPO_RESPONSE;\n  data: boolean;\n  constructor(requestId: string, success: boolean, data: boolean = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbUpdateAllFileManifestsForRepoResponse.type;\n    this.data = data;\n  }\n}\nexport class DbDeleteAllFileManifestsForRepoRequest extends DbEventBase {\n  static type = DBEventNames.DB_DELETE_ALL_FILE_MANIFESTS_FOR_REPO_REQUEST;\n  constructor(folder: string) {\n    super();\n    this.type = DbDeleteAllFileManifestsForRepoRequest.type;\n    this.payload = { folder };\n  }\n}\nexport class DbDeleteAllFileManifestsForRepoResponse extends DbResponseBase {\n  static type = DBEventNames.DB_DELETE_ALL_FILE_MANIFESTS_FOR_REPO_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbDeleteAllFileManifestsForRepoResponse.type;\n  }\n}\nexport class DbCreateManifestByChunkGroupIdRequest extends DbEventBase {\n  static type = DBEventNames.DB_CREATE_MANIFEST_BY_CHUNK_GROUP_ID_REQUEST;\n  payload: { manifest: ModelAssetManifest };\n  constructor(manifest: ModelAssetManifest) {\n    super();\n    this.type = DbCreateManifestByChunkGroupIdRequest.type;\n    this.payload = { manifest };\n  }\n}\nexport class DbCreateManifestByChunkGroupIdResponse extends DbResponseBase {\n  static type = DBEventNames.DB_CREATE_MANIFEST_BY_CHUNK_GROUP_ID_RESPONSE;\n  constructor(requestId: string, success: boolean, id: string, error: any = null) {\n    super(requestId, success, { id }, error);\n    this.type = DbCreateManifestByChunkGroupIdResponse.type;\n  }\n}\nexport class DbUpdateManifestByChunkGroupIdRequest extends DbEventBase {\n  static type = DBEventNames.DB_UPDATE_MANIFEST_BY_CHUNK_GROUP_ID_REQUEST;\n  constructor(chunkGroupId: string, updates: any) {\n    super();\n    this.type = DbUpdateManifestByChunkGroupIdRequest.type;\n    this.payload = { chunkGroupId, updates };\n  }\n}\nexport class DbUpdateManifestByChunkGroupIdResponse extends DbResponseBase {\n  static type = DBEventNames.DB_UPDATE_MANIFEST_BY_CHUNK_GROUP_ID_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbUpdateManifestByChunkGroupIdResponse.type;\n  }\n}\nexport class DbDeleteManifestByChunkGroupIdRequest extends DbEventBase {\n  static type = DBEventNames.DB_DELETE_MANIFEST_BY_CHUNK_GROUP_ID_REQUEST;\n  constructor(chunkGroupId: string) {\n    super();\n    this.type = DbDeleteManifestByChunkGroupIdRequest.type;\n    this.payload = { chunkGroupId };\n  }\n}\nexport class DbDeleteManifestByChunkGroupIdResponse extends DbResponseBase {\n  static type = DBEventNames.DB_DELETE_MANIFEST_BY_CHUNK_GROUP_ID_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbDeleteManifestByChunkGroupIdResponse.type;\n  }\n}\nexport class DbReadManifestRequest extends DbEventBase {\n  static type = DBEventNames.DB_READ_MANIFEST_REQUEST;\n  constructor(manifestId: string) {\n    super();\n    this.type = DbReadManifestRequest.type;\n    this.payload = { manifestId };\n  }\n}\nexport class DbReadManifestResponse extends DbResponseBase {\n  static type = DBEventNames.DB_READ_MANIFEST_RESPONSE;\n  data: ModelAssetManifest | null;\n  constructor(requestId: string, success: boolean, manifest: ModelAssetManifest | null, error: any = null) {\n    super(requestId, success, manifest, error);\n    this.type = DbReadManifestResponse.type;\n    this.data = manifest;\n  }\n}\nexport class DbUpdateManifestRequest extends DbEventBase {\n  static type = DBEventNames.DB_UPDATE_MANIFEST_REQUEST;\n  constructor(manifestId: string, updates: any) {\n    super();\n    this.type = DbUpdateManifestRequest.type;\n    this.payload = { manifestId, updates };\n  }\n}\nexport class DbUpdateManifestResponse extends DbResponseBase {\n  static type = DBEventNames.DB_UPDATE_MANIFEST_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbUpdateManifestResponse.type;\n  }\n}\nexport class DbDeleteManifestRequest extends DbEventBase {\n  static type = DBEventNames.DB_DELETE_MANIFEST_REQUEST;\n  constructor(manifestId: string) {\n    super();\n    this.type = DbDeleteManifestRequest.type;\n    this.payload = { manifestId };\n  }\n}\nexport class DbDeleteManifestResponse extends DbResponseBase {\n  static type = DBEventNames.DB_DELETE_MANIFEST_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbDeleteManifestResponse.type;\n  }\n}\nexport class DbUpdateChunkRequest extends DbEventBase {\n  static type = DBEventNames.DB_UPDATE_CHUNK_REQUEST;\n  constructor(chunkId: string, updates: any) {\n    super();\n    this.type = DbUpdateChunkRequest.type;\n    this.payload = { chunkId, updates };\n  }\n}\nexport class DbUpdateChunkResponse extends DbResponseBase {\n  static type = DBEventNames.DB_UPDATE_CHUNK_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbUpdateChunkResponse.type;\n  }\n}\nexport class DbDeleteChunkRequest extends DbEventBase {\n  static type = DBEventNames.DB_DELETE_CHUNK_REQUEST;\n  constructor(chunkId: string) {\n    super();\n    this.type = DbDeleteChunkRequest.type;\n    this.payload = { chunkId };\n  }\n}\nexport class DbDeleteChunkResponse extends DbResponseBase {\n  static type = DBEventNames.DB_DELETE_CHUNK_RESPONSE;\n  constructor(requestId: string, success: boolean, data: any = true, error: any = null) {\n    super(requestId, success, data, error);\n    this.type = DbDeleteChunkResponse.type;\n  }\n}\n\nexport class DbGetAllModelFileManifestsRequest extends DbEventBase {\n  static type = DBEventNames.DB_GET_ALL_MODEL_FILE_MANIFESTS_REQUEST;\n  constructor() {\n    super();\n    this.type = DbGetAllModelFileManifestsRequest.type;\n  }\n}\n\nexport class DbGetAllModelFileManifestsResponse extends DbResponseBase {\n  static type = DBEventNames.DB_GET_ALL_MODEL_FILE_MANIFESTS_RESPONSE;\n  constructor(originalRequestId: string, success: boolean, manifests: any[], error: any = null) {\n    super(originalRequestId, success, manifests, error);\n    this.type = DbGetAllModelFileManifestsResponse.type;\n  }\n}\n\nexport class DbManifestUpdatedNotification extends DbNotificationBase {\n    static type = DBEventNames.DB_MANIFEST_UPDATED_NOTIFICATION;\n    constructor(manifest: ModelAssetManifest) {\n        super(manifest.folder);\n        this.type = DbManifestUpdatedNotification.type;\n        this.payload = { manifest };\n    }\n}","export const UIEventNames = Object.freeze({\n  QUERY_SUBMITTED: 'querySubmitted',\n  BACKGROUND_RESPONSE_RECEIVED: 'background:responseReceived',\n  BACKGROUND_ERROR_RECEIVED: 'background:errorReceived',\n  BACKGROUND_SCRAPE_STAGE_RESULT: 'background:scrapeStageResult',\n  BACKGROUND_SCRAPE_RESULT_RECEIVED: 'background:scrapeResultReceived',\n  BACKGROUND_LOADING_STATUS_UPDATE: 'ui:loadingStatusUpdate',\n  REQUEST_MODEL_LOAD: 'ui:requestModelLoad',\n  WORKER_READY: 'worker:ready',\n  WORKER_ERROR: 'worker:error',\n  NAVIGATION_PAGE_CHANGED: 'navigation:pageChanged',\n  SCRAPE_PAGE: 'SCRAPE_PAGE',\n  SCRAPE_ACTIVE_TAB: 'SCRAPE_ACTIVE_TAB',\n  DYNAMIC_SCRIPT_MESSAGE_TYPE: 'offscreenIframeResult',\n  MODEL_DOWNLOAD_PROGRESS: 'modelDownloadProgress',\n\n  MODEL_WORKER_LOADING_PROGRESS: 'modelWorkerLoadingProgress', // For when the worker itself is loading the model (pipeline init)\n  MODEL_SELECTION_CHANGED: 'ui:modelSelectionChanged', // When model or ONNX variant dropdown changes\n  REQUEST_MODEL_DOWNLOAD_ACTION: 'ui:requestModelDownloadAction', // When user clicks \"Download Model\" button\n  REQUEST_MODEL_EXECUTION: 'ui:requestModelExecution', // When user clicks \"Load Model\" button (to load into worker)\n  WORKER_STATE_CHANGED: 'worker:stateChanged', // Generic event for worker state updates (ready, error, etc.)\n});\n\nexport const WorkerEventNames = Object.freeze({\n  WORKER_SCRIPT_READY: 'workerScriptReady',\n  WORKER_READY: 'workerReady',\n  LOADING_STATUS: 'loadingStatus',\n  GENERATION_STATUS: 'generationStatus',\n  GENERATION_UPDATE: 'generationUpdate',\n  GENERATION_COMPLETE: 'generationComplete',\n  GENERATION_ERROR: 'generationError',\n  RESET_COMPLETE: 'resetComplete',\n  ERROR: 'error',\n  UNINITIALIZED: 'uninitialized',\n  CREATING_WORKER: 'creating_worker',\n  LOADING_MODEL: 'loading_model',\n  MODEL_READY: 'model_ready',\n  GENERATING: 'generating',\n  IDLE: 'idle',\n  WORKER_ENV_READY: 'workerEnvReady',\n});\n\nexport const ModelWorkerStates = Object.freeze({\n  UNINITIALIZED: 'uninitialized',\n  CREATING_WORKER: 'creating_worker',\n  WORKER_SCRIPT_READY: 'worker_script_ready',\n  LOADING_MODEL: 'loading_model',\n  MODEL_READY: 'model_ready',\n  GENERATING: 'generating',\n  ERROR: 'error',\n  IDLE: 'idle',\n});\n\nexport const RuntimeMessageTypes = Object.freeze({\n  LOAD_MODEL: 'loadModel',\n  SEND_CHAT_MESSAGE: 'sendChatMessage',\n  INTERRUPT_GENERATION: 'interruptGeneration',\n  RESET_WORKER: 'resetWorker',\n  GET_MODEL_WORKER_STATE: 'getModelWorkerState',\n  SCRAPE_REQUEST: 'scrapeRequest',\n  GET_DRIVE_FILE_LIST: 'getDriveFileList',\n  GET_LOG_SESSIONS: 'getLogSessions',\n  GET_LOG_ENTRIES: 'getLogEntries',\n  DETACH_SIDE_PANEL: 'detachSidePanel',\n  GET_DETACHED_STATE: 'getDetachedState',\n  GET_DB_READY_STATE: 'getDbReadyState',\n});\n\nexport const SiteMapperMessageTypes = Object.freeze({\n  OPEN_TAB: 'openTab',\n  MAPPED: 'mapped',\n});\n\nexport const ModelLoaderMessageTypes = Object.freeze({\n  INIT: 'init',\n  GENERATE: 'Generate',\n  INTERRUPT: 'Interrupt',\n  RESET: 'Reset',\n  DOWNLOAD_MODEL_ASSETS: 'DownloadModelAssets',\n  LIST_MODEL_FILES: 'ListModelFiles',\n  LIST_MODEL_FILES_RESULT: 'ListModelFilesResult',\n});\n\nexport const InternalEventBusMessageTypes = Object.freeze({\n  BACKGROUND_EVENT_BROADCAST: 'BackgroundEventBroadcast'\n});\n\nexport const RawDirectMessageTypes = Object.freeze({\n  WORKER_GENERIC_RESPONSE: 'WorkerGenericResponse',\n  WORKER_GENERIC_ERROR: 'WorkerGenericError',\n  WORKER_SCRAPE_STAGE_RESULT: 'WorkerScrapeStageResult',\n  WORKER_DIRECT_SCRAPE_RESULT: 'WorkerDirectScrapeResult',\n  WORKER_UI_LOADING_STATUS_UPDATE: 'UiLoadingStatusUpdate' // This one is used as a direct message type\n});\n\nexport const Contexts = Object.freeze({\n  BACKGROUND: 'Background',\n  MAIN_UI: 'MainUI',\n  POPUP: 'Popup',\n  OTHERS: 'Others',\n  UNKNOWN: 'Unknown',\n});\n\nexport const MessageSenderTypes = Object.freeze({\n  USER: 'user',\n  SYSTEM: 'system',\n  AI: 'ai',\n  AGENT: 'agent',\n  // Add more as needed\n});\n\nexport const MessageContentTypes = Object.freeze({\n  TEXT: 'text',\n  IMAGE: 'image',\n  FILE: 'file',\n  CODE: 'code',\n  AGENT_ACTION: 'agent_action',\n  // Add more as needed\n});\n\nexport const TableNames = Object.freeze({\n  CHATS: 'chats',\n  MESSAGES: 'messages',\n  CHAT_SUMMARIES: 'chat_summaries',\n  ATTACHMENTS: 'attachments',\n  USERS: 'users',\n  LOGS: 'logs',\n  MODEL_ASSETS: 'model_assets',\n  KNOWLEDGE_GRAPH_NODES: 'knowledge_graph_nodes',\n  KNOWLEDGE_GRAPH_EDGES: 'knowledge_graph_edges',\n});\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import browser from 'webextension-polyfill';\nimport { WorkerEventNames,\n    ModelWorkerStates, \n    RuntimeMessageTypes,   \n    ModelLoaderMessageTypes,\n    RawDirectMessageTypes,\n    UIEventNames } from './events/eventNames';\n\nimport { DBEventNames} from './DB/dbEvents';\n\nconst CONTEXT_PREFIX = '[Background]';\n\nlet detachedPopups: { [tabId: string]: number } = {}; // TabId to Popup WindowId\nlet popupIdToTabId: { [popupId: number]: string } = {}; // Popup WindowId to Original TabId\n\nconst DNR_RULE_ID_1 = 1;\nconst DNR_RULE_PRIORITY_1 = 1;\n\nlet globalModelWorkerActiveState = ModelWorkerStates.UNINITIALIZED; // Conceptual state\nlet currentActiveModelIdInSidePanel: string | null = null; // Tracks modelId believed to be in sidepanel's worker\n\nlet currentLogSessionId: string | null = null;\nlet previousLogSessionId: string | null = null;\n\nlet background_lastLoggedProgress: number = -1; // For model pipeline loading progress\n\nasync function initializeSessionIds() {\n    let { currentLogSessionId: storedCurrentId, previousLogSessionId: storedPreviousId } = await browser.storage.local.get(['currentLogSessionId', 'previousLogSessionId']);\n    if (storedCurrentId) {\n        currentLogSessionId = storedCurrentId;\n        previousLogSessionId = storedPreviousId || null;\n    } else {\n        currentLogSessionId = Date.now() + '-' + Math.random().toString(36).substring(2, 9);\n        await browser.storage.local.set({ currentLogSessionId: currentLogSessionId });\n        if (storedPreviousId) {\n             previousLogSessionId = storedPreviousId;\n        }\n        await browser.storage.local.set({ previousLogSessionId: currentLogSessionId });\n    }\n    console.log(CONTEXT_PREFIX + ' Current log session ID:', currentLogSessionId);\n    console.log(CONTEXT_PREFIX + ' Previous log session ID:', previousLogSessionId);\n}\n\nasync function updateDeclarativeNetRequestRules() {\n    try {\n        const currentRules = await browser.declarativeNetRequest.getDynamicRules();\n        const rulesToRemove = currentRules.filter((rule: any) => rule.id === DNR_RULE_ID_1).map((rule: any) => rule.id);\n        const rulesToAdd = [\n            {\n                id: DNR_RULE_ID_1,\n                priority: DNR_RULE_PRIORITY_1,\n                action: {\n                    type: 'modifyHeaders',\n                    responseHeaders: [\n                        { header: 'x-frame-options', operation: 'remove' },\n                        { header: 'X-Frame-Options', operation: 'remove' },\n                        { header: 'content-security-policy', operation: 'remove' },\n                        { header: 'Content-Security-Policy', operation: 'remove' }\n                    ]\n                },\n                condition: {\n                    resourceTypes: ['main_frame'],\n                    urlFilter: '|http*://*/*|'\n                }\n            }\n        ];\n        await browser.declarativeNetRequest.updateDynamicRules({\n            removeRuleIds: rulesToRemove,\n            addRules: rulesToAdd\n        });\n        console.log(CONTEXT_PREFIX + ' Declarative Net Request rules updated successfully.');\n    } catch (error: unknown) {\n        console.error(\"Error updating Declarative Net Request rules:\", error);\n    }\n}\n\nasync function scrapeUrlWithTempTabExecuteScript(url: string, chatId: string, messageId: string): Promise<any> {\n    console.log(CONTEXT_PREFIX + ' [BG-Scrape] Temp Tab + executeScript: ' + url);\n    let tempTabId: number | null = null;\n    const TEMP_TAB_LOAD_TIMEOUT = 30000;\n\n    return new Promise((resolve, reject) => {\n        (async () => {\n            const cleanupAndReject = (errorMsg: string, errorObj: any = null) => {\n                const finalError = errorObj ? errorObj : new Error(errorMsg);\n                console.warn(CONTEXT_PREFIX +`[BG-Scrape] Cleanup & Reject: ${errorMsg}`, errorObj);\n                if (tempTabId !== null) {\n                    browser.tabs.remove(tempTabId).catch((err: any) => console.warn(CONTEXT_PREFIX + `[BG-Scrape] Error removing tab ${tempTabId}: ${err.message}`));\n                    tempTabId = null;\n                }\n                reject(finalError);\n            };\n\n            try {\n                const tab = await browser.tabs.create({ url: url, active: false });\n                tempTabId = tab.id;\n                if (!tempTabId) {\n                    cleanupAndReject('[BG-Scrape] Failed to get temporary tab ID.');\n                    return;\n                }\n                console.log(CONTEXT_PREFIX + ' [BG-Scrape] Created temp tab ' + tempTabId + '.');\n\n                let loadTimeoutId: ReturnType<typeof setTimeout> | null = null;\n                const loadPromise = new Promise<void>((resolveLoad, rejectLoad) => {\n                    const listener = (tabIdUpdated: number, changeInfo: any) => {\n                        if (tabIdUpdated === tempTabId && changeInfo.status === 'complete') {\n                            console.log(CONTEXT_PREFIX + ' [BG-Scrape] Tab ' + tempTabId + ' loaded.');\n                            if (loadTimeoutId) clearTimeout(loadTimeoutId);\n                            browser.tabs.onUpdated.removeListener(listener);\n                            resolveLoad();\n                        }\n                    };\n                    browser.tabs.onUpdated.addListener(listener);\n\n                    loadTimeoutId = setTimeout(() => {\n                        browser.tabs.onUpdated.removeListener(listener);\n                        rejectLoad(new Error(`Timeout (${TEMP_TAB_LOAD_TIMEOUT / 1000}s) waiting for page load in tab ${tempTabId}.`));\n                    }, TEMP_TAB_LOAD_TIMEOUT);\n                });\n\n                await loadPromise;\n                console.log(CONTEXT_PREFIX + ' [BG-Scrape] Injecting pageExtractor.js into tab ' + tempTabId + '...');\n                \n                await browser.scripting.executeScript({\n                    target: { tabId: tempTabId },\n                    files: ['pageExtractor.js']\n                });\n                console.log(CONTEXT_PREFIX + ' [BG-Scrape] pageExtractor.js INJECTED into tab ' + tempTabId + '.');\n                \n                const injectionResults = await browser.scripting.executeScript({\n                    target: { tabId: tempTabId },\n                    func: () => {\n                        if (window.TabAgentPageExtractor && typeof window.TabAgentPageExtractor.extract === 'function') {\n                            try { return window.TabAgentPageExtractor.extract(document); }\n                            catch (e: unknown) {\n                                const errMsg = e instanceof Error ? e.message : String(e);\n                                const errStack = e instanceof Error ? e.stack : '';\n                                return { error: `Error in PageExtractor.extract: ${errMsg} (Stack: ${errStack})` };\n                            }\n                        } else { return { error: 'TabAgentPageExtractor.extract function not found on window.' }; }\n                    }\n                });\n\n                if (!injectionResults || injectionResults.length === 0 || !injectionResults[0].result) {\n                    cleanupAndReject('[BG-Scrape] No result from executeScript.', injectionResults?.[0]?.error);\n                    return;\n                }\n                const scriptResult = injectionResults[0].result;\n                console.log('[BG-Scrape] Extracted scriptResult:', scriptResult);\n                if (scriptResult?.error) {\n                    cleanupAndReject(`[BG-Scrape] Script error: ${scriptResult.error}`, scriptResult);\n                    return;\n                }\n                // Update the placeholder message in the DB via forwardToSidePanel\n                if (typeof forwardToSidePanel === 'function' && chatId && messageId) {\n                    // Add __type marker to the extraction object\n                    const extractionWithType = { ...scriptResult, __type: \"PageExtractor\" };\n                    const updateMsg = {\n                        type: DBEventNames.DB_UPDATE_MESSAGE_REQUEST,\n                        payload: {\n                            sessionId: chatId,\n                            messageId: messageId,\n                            updates: {\n                                text: \"```json\\n\" + JSON.stringify(scriptResult, null, 2) + \"\\n```\",\n                                content: \"```json\\n\" + JSON.stringify(scriptResult, null, 2) + \"\\n```\",\n                                extraction: extractionWithType,\n                                type: \"code\",\n                                metadata: JSON.stringify({\n                                    language: \"json\",\n                                    isJson: true,\n                                    extractionType: \"PageExtractor\",\n                                    extraction: extractionWithType\n                                })\n                            }\n                        }\n                    };\n                    forwardToSidePanel(updateMsg);\n                }\n                resolve(scriptResult);\n            } catch (error: unknown) {\n                const errMsg = error instanceof Error ? error.message : String(error);\n                cleanupAndReject(`[BG-Scrape] Error: ${errMsg}`, error);\n            } finally {\n                if (tempTabId !== null) {\n                    browser.tabs.remove(tempTabId).catch((err: any) => console.warn(CONTEXT_PREFIX + `[BG-Scrape] Error removing tab ${tempTabId} in finally: ${err.message}`));\n                }\n            }\n        })();\n    });\n}\n\nasync function scrapeUrlMultiStage(url: string, chatId: string, messageId: string): Promise<void> {\n    console.log(CONTEXT_PREFIX + ' [BG-ScrapeOrch] Starting for ' + url + '. ChatID: ' + chatId + ', MessageID: ' + messageId);\n    const sendStageResult = (stageResult: any) => {\n        console.log(CONTEXT_PREFIX + ' [BG-ScrapeOrch] Sending WORKER_SCRAPE_STAGE_RESULT Stage ' + stageResult.stage + ', Success: ' + stageResult.success);\n        browser.runtime.sendMessage({ type: RawDirectMessageTypes.WORKER_SCRAPE_STAGE_RESULT, payload: stageResult })\n            .catch((e: any) => console.warn(CONTEXT_PREFIX + `[BG-ScrapeOrch] Failed to send result Stage ${stageResult.stage}:`, e));\n    };\n\n    try {\n        const executeScriptResult: any = await scrapeUrlWithTempTabExecuteScript(url, chatId, messageId);\n        console.log(CONTEXT_PREFIX + ' [BG-ScrapeOrch] Stage 1 Succeeded for ' + url + '.');\n        sendStageResult({ stage: 1, success: true, chatId, messageId, method: 'tempTabExecuteScript', url, length: executeScriptResult?.text?.length || 0, ...executeScriptResult });\n    } catch (stage1Error: unknown) {\n        const errMsg = stage1Error instanceof Error ? stage1Error.message : String(stage1Error);\n        console.warn(CONTEXT_PREFIX + `[BG-ScrapeOrch] Stage 1 Failed for ${url}: ${errMsg}`);\n        sendStageResult({ stage: 1, success: false, chatId, messageId, method: 'tempTabExecuteScript', error: errMsg });\n    } finally {\n        console.log(CONTEXT_PREFIX + ' [BG-ScrapeOrch] Finished for ' + url + '.');\n    }\n}\n\nasync function getDriveToken(): Promise<any> {\n    return new Promise((resolve, reject) => {\n        browser.identity.getAuthToken({ interactive: true }, (token: any) => {\n            if (browser.runtime.lastError) reject(new Error(browser.runtime.lastError.message));\n            else resolve(token);\n        });\n    });\n}\n\nasync function fetchDriveFileList(token: string, folderId: string = 'root'): Promise<any[]> {\n    const fields = \"files(id, name, mimeType, iconLink, webViewLink, size, createdTime, modifiedTime)\";\n    const query = `'${folderId}' in parents and trashed=false`;\n    const url = `https://www.googleapis.com/drive/v3/files?${new URLSearchParams({ pageSize: '100', q: query, fields, orderBy: 'folder,modifiedTime desc' })}`;\n    console.log(CONTEXT_PREFIX + ' [BG-Drive] Fetching list for folder ' + folderId);\n    const response = await fetch(url, { headers: { 'Authorization': `Bearer ${token}`, 'Accept': 'application/json' } });\n    if (!response.ok) {\n        const errorData = await response.text();\n        console.error(CONTEXT_PREFIX + `[BG-Drive] API error (Folder: ${folderId}):`, response.status, errorData);\n        throw new Error(`Drive API Error ${response.status} (Folder: ${folderId}): ${errorData || response.statusText}`);\n    }\n    const data = await response.json();\n    console.log(CONTEXT_PREFIX + ' [BG-Drive] API success (Folder: ' + folderId + '). Found ' + (data.files?.length || 0) + ' items.');\n    return data.files || [];\n}\n\nasync function forwardToSidePanel(message: any): Promise<any> {\n    console.log(CONTEXT_PREFIX + ' Attempting to forward message type: ' + message?.type + ' to active side panel.');\n    try {\n        // This relies on sidepanel.js having an active onMessage listener.\n        await browser.runtime.sendMessage(message);\n        console.log(CONTEXT_PREFIX + ' Message type: ' + message?.type + ' forwarded (presumed to side panel).');\n        return { success: true };\n    } catch (error: unknown) {\n        const errMsg = error instanceof Error ? error.message : String(error);\n        console.error( CONTEXT_PREFIX +` Error forwarding message type '${message?.type}' to side panel:`, errMsg);\n        return { success: false, error: `Side panel not available or error: ${errMsg}` };\n    }\n}\n\nbrowser.runtime.onInstalled.addListener(async (details: any) => {\n    console.log(CONTEXT_PREFIX + ' onInstalled. Reason:', details.reason);\n    await initializeSessionIds();\n    await updateDeclarativeNetRequestRules();\n    browser.sidePanel.setPanelBehavior({ openPanelOnActionClick: true })\n        .catch((error: any) => console.error('Error setting side panel behavior:', error));\n    browser.storage.local.get(null).then((items: any) => {\n        const keysToRemove = Object.keys(items).filter((key: string) => key.startsWith('detachedState_'));\n        if (keysToRemove.length > 0) browser.storage.local.remove(keysToRemove);\n    });\n});\n\nbrowser.runtime.onStartup.addListener(async () => {\n    console.log(CONTEXT_PREFIX + ' onStartup event.');\n    await initializeSessionIds();\n});\n\nbrowser.action.onClicked.addListener(async (tab: any) => {\n    console.log(CONTEXT_PREFIX + ' Action clicked for tab ' + (tab.id || 'N/A'));\n\n});\n\nbrowser.windows.onRemoved.addListener(async (windowId: number) => {\n    console.log(CONTEXT_PREFIX + ' Window removed: ' + windowId);\n    const tabId = popupIdToTabId[windowId];\n    if (tabId) {\n        console.log(CONTEXT_PREFIX + ' Popup window ' + windowId + ' for tab ' + tabId + ' was closed.');\n        delete detachedPopups[tabId];\n        delete popupIdToTabId[windowId];\n        try { await browser.storage.local.remove(`detachedState_${tabId}`); }\n        catch (error) { console.error(`Error cleaning storage for tab ${tabId} on popup close:`, error); }\n    }\n});\n\nbrowser.runtime.onMessage.addListener((message: any, sender: any, sendResponse: (response: any) => void) => {\n    console.log(CONTEXT_PREFIX + ` Received message type: '${message?.type}' from: ${sender.id}`,  message);\n    if (!message || !message.type) {\n        console.warn(CONTEXT_PREFIX + ' Received message without type:', message, 'From:', sender.id);\n        return false;\n    }\n    const { type, payload } = message;\n    let isResponseAsync = false;\n\n    if (type === RuntimeMessageTypes.SCRAPE_REQUEST) {\n        isResponseAsync = true;\n        (async () => {\n            try {\n                console.log(CONTEXT_PREFIX + ' [BG-Scrape] SCRAPE_REQUEST received. Payload:', payload);\n                // Check if the URL is already open in any tab\n                const tabs = await browser.tabs.query({ url: payload?.url });\n                console.log(CONTEXT_PREFIX + ' [BG-Scrape] Tabs found for URL', payload?.url, ':', tabs);\n                if (tabs && tabs.length > 0) {\n                    // Use the first matching tab\n                    const tabId = tabs[0].id;\n                    console.log(CONTEXT_PREFIX + ' [BG-Scrape] Found open tab (' + tabId + ') for URL: ' + payload?.url + '. Sending SCRAPE_PAGE to content script.');\n                    try {\n                        const response = await browser.tabs.sendMessage(tabId, { type: UIEventNames.SCRAPE_PAGE });\n                        console.log(CONTEXT_PREFIX + ' [BG-Scrape] Content script scrape response:', response);\n                        if (response && response.success) {\n                            console.log(CONTEXT_PREFIX + ' [BG-Scrape] Content script scrape succeeded for tab ' + tabId + '.');\n                            browser.runtime.sendMessage({\n                                type: RawDirectMessageTypes.WORKER_SCRAPE_STAGE_RESULT,\n                                payload: { stage: 1, success: true, chatId: payload?.chatId, messageId: payload?.messageId, method: 'contentScript', url: payload?.url, length: response?.text?.length || 0, ...response }\n                            });\n                            sendResponse({ success: true, message: `Scraping for ${payload?.url} (content script) started.` });\n                        } else {\n                            console.warn(CONTEXT_PREFIX + `[BG-Scrape] Content script scrape failed or returned error for tab ${tabId}. Falling back to temp tab scrape.`);\n                            // Fallback to temp tab scrape\n                            await scrapeUrlMultiStage(payload?.url, payload?.chatId, payload?.messageId);\n                            sendResponse({ success: true, message: `Scraping for ${payload?.url} (fallback temp tab) started.` });\n                        }\n                    } catch (err) {\n                        console.warn(CONTEXT_PREFIX + `[BG-Scrape] Error sending SCRAPE_PAGE to content script in tab ${tabId}:`, err);\n                        // Fallback to temp tab scrape\n                        await scrapeUrlMultiStage(payload?.url, payload?.chatId, payload?.messageId);\n                        sendResponse({ success: true, message: `Scraping for ${payload?.url} (fallback temp tab) started.` });\n                    }\n                } else {\n                    console.log(CONTEXT_PREFIX + ' [BG-Scrape] No open tab found for URL:', payload?.url, '. Using temp tab scrape.');\n                    // No open tab, use temp tab scrape\n                    await scrapeUrlMultiStage(payload?.url, payload?.chatId, payload?.messageId);\n                    sendResponse({ success: true, message: `Scraping for ${payload?.url} (temp tab) started.` });\n                }\n            } catch (error: unknown) {\n                console.error(CONTEXT_PREFIX + ' [BG-Scrape] Error in SCRAPE_REQUEST handler:', error);\n                const errMsg = error instanceof Error ? error.message : String(error);\n                sendResponse({ success: false, error: errMsg });\n            }\n        })();\n        return isResponseAsync;\n    }\n\n    if (type === RuntimeMessageTypes.GET_DRIVE_FILE_LIST) {\n        isResponseAsync = true;\n        (async () => {\n            try {\n                const token = await getDriveToken();\n                const files = await fetchDriveFileList(token, message.folderId);\n                sendResponse({ success: true, files: files, folderId: message.folderId });\n            } catch (error: unknown) {\n                const errMsg = error instanceof Error ? error.message : String(error);\n                sendResponse({ success: false, error: errMsg, folderId: message.folderId });\n            }\n        })();\n        return isResponseAsync;\n    }\n    \n    if (type === 'popupCreated') {\n        const { tabId, popupId } = payload;\n        detachedPopups[tabId] = popupId;\n        popupIdToTabId[popupId] = tabId;\n        console.log(CONTEXT_PREFIX + ' Popup ' + popupId + ' registered for tab ' + tabId + '.');\n        sendResponse({ success: true });\n        return false;\n    }\n    if (type === 'getPopupForTab') {\n        const existingPopupId = detachedPopups[payload.tabId];\n        sendResponse({ popupId: existingPopupId || null });\n        return false;\n    }\n\n    if (Object.values(DBEventNames).includes(type)) {\n\n        return false;\n    }\n\n    if (\n        !Object.values(ModelLoaderMessageTypes).includes(type) &&\n        !Object.values(WorkerEventNames).includes(type) &&\n        !Object.values(RuntimeMessageTypes).includes(type) &&\n        !Object.values(DBEventNames).includes(type) &&\n        type !== 'popupCreated' && type !== 'getPopupForTab'\n    ) {\n        return false;\n    }\n    return false;\n});\n\n(async () => {\n    await initializeSessionIds();\n    await updateDeclarativeNetRequestRules();\n    console.log(CONTEXT_PREFIX + ' Initialized.');\n})();"],"names":[],"sourceRoot":""}